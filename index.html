<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curadoria Elite Travel - O seu mundo, perfeitamente indicado</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>
    <style>
        /* ==================== 0. VARIÁVEIS DE TEMA ==================== */
        :root {
            --gold-color: #D4AF37; /* Dourado Clássico */
            --bg-dark: #121212;
            --text-light: #f1f1f1;
            --card-dark: #1e1e1e;
            --border-dark: #333333;

            --bg-light: #ffffff;
            --text-dark: #333333;
            --card-light: #f9f9f9;
            --border-light: #dddddd;

            --primary-color: var(--gold-color);
            --secondary-color: #555555;
            --bg-color: var(--bg-dark);
            --text-color: var(--text-light);
            --card-bg: var(--card-dark);
            --border-color: var(--border-dark);
            --text-secondary: #aaaaaa;
            --box-shadow-color: rgba(0, 0, 0, 0.5);
            --btn-hover-bg: #E1C16E;
        }

        .light-theme {
            --bg-color: var(--bg-light);
            --text-color: var(--text-dark);
            --card-bg: var(--card-light);
            --border-color: var(--border-light);
            --text-secondary: #666666;
            --box-shadow-color: rgba(0, 0, 0, 0.1);
            --btn-hover-bg: #E1C16E;
        }

        /* ==================== 1. ESTILOS GERAIS ==================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Playfair Display', serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.5s, color 0.5s;
            line-height: 1.6;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }

        h1, h2, h3, h4 {
            font-family: 'Cinzel', serif;
            color: var(--primary-color);
            text-transform: uppercase;
        }

        a {
            color: var(--gold-color);
            text-decoration: none;
            transition: color 0.3s;
        }

        a:hover {
            color: var(--btn-hover-bg);
        }

        section {
            padding: 80px 0;
            display: none; /* Controlado pelo JS (SPA) */
            background-size: cover; 
            background-position: center; 
            position: relative;
        }

        section::before { /* Overlay escuro para melhorar a legibilidade do texto */
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 1;
        }

        section .container {
            position: relative;
            z-index: 2;
        }

        section.active {
            display: block; /* A seção ativa */
        }

        /* ==================== 1.1. ESTILOS DE FUNDO ==================== */
        /* Imagens de fundo mantidas (Mantenha as URLs originais ou altere-as) */
        #hero {
            background-image: url('https://picsum.photos/1920/1080?random=1&blur=2'); /* MUDAR URL */
            height: 70vh;
            display: flex;
            align-items: center;
            text-align: center;
        }
        #about-us {
            background-image: url('https://picsum.photos/1920/1080?random=2&blur=2'); /* MUDAR URL */
        }
        #categories {
            background-image: url('https://picsum.photos/1920/1080?random=3&blur=2'); /* MUDAR URL */
        }
        #daily-columns {
            background-image: url('https://picsum.photos/1920/1080?random=4&blur=2'); /* MUDAR URL */
        }
        #contact-form {
            background-image: url('https://picsum.photos/1920/1080?random=5&blur=2'); /* MUDAR URL */
        }
        #hero .hero-content, 
        #about-us .container, 
        #categories .container, 
        #daily-columns .container, 
        #contact-form .container,
        #user-profile .container,
        #review-form .container,
        #admin .container {
            color: var(--text-light); 
        }

        /* Estilos sem imagem de fundo (Admin, Perfil, Avaliação) */
        #admin, #user-profile, #review-form {
            background-image: none;
            background-color: var(--bg-color); /* Volta para a cor de fundo padrão */
        }
        #admin::before, #user-profile::before, #review-form::before {
            content: none;
        }
        
        /* Estilo específico para o Admin/Review para centralizar o conteúdo */
        #admin .container, #review-form .container {
            max-width: 90%;
        }


        /* ==================== 2. BOTÕES ==================== */
        .btn {
            padding: 10px 20px;
            border: 2px solid var(--primary-color);
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
            font-family: 'Cinzel', serif;
            transition: all 0.3s;
            min-width: 120px;
        }
        
        /* Botões menores */
        .btn-small {
            padding: 5px 10px; 
            min-width: 80px; 
            font-size: 0.8rem; 
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: var(--bg-dark); 
            border: 2px solid var(--primary-color);
        }

        .btn-primary:hover {
            background-color: var(--btn-hover-bg);
            border-color: var(--btn-hover-bg);
        }

        .btn-outline {
            background-color: transparent;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }

        .btn-outline:hover {
            background-color: var(--primary-color);
            color: var(--bg-dark);
        }

        .logout-btn {
            background-color: transparent;
            color: var(--primary-color);
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 0.9rem;
            text-decoration: underline;
        }
        
        /* Botão para alternar tema no rodapé (Alteração 3) */
        .theme-toggle-footer {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 2.5rem; /* Aumentado para destaque no rodapé */
            color: var(--primary-color);
            transition: color 0.3s, transform 0.3s;
            display: block;
            margin: 0 auto 5px auto;
            padding: 0;
            line-height: 1;
        }
        .theme-toggle-footer:hover {
            color: var(--btn-hover-bg);
            transform: scale(1.1);
        }


        /* ==================== 3. INPUTS E FORMULÁRIOS ==================== */
        input[type="text"], input[type="email"], input[type="password"], input[type="number"], input[type="file"], input[type="date"], textarea, select {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background-color: var(--card-bg);
            color: var(--text-color);
            font-family: 'Playfair Display', serif;
        }
        /* Cor de fundo diferente para inputs no Painel Admin para maior clareza */
        #admin input:not([type="file"]), #admin textarea, #admin select {
             background-color: var(--bg-dark);
        }


        textarea {
            resize: vertical;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: var(--text-secondary);
        }

        /* Estilo para campos do formulário de Avaliação e Cadastro de Perfil (Alteração 8 e 10) */
        .form-row {
            display: flex;
            gap: 15px;
        }
        .form-row > * {
            flex: 1;
        }
        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
            }
        }


        /* ==================== 4. HEADER E NAVEGAÇÃO ==================== */
        header {
            background-color: var(--card-bg);
            box-shadow: 0 2px 10px var(--box-shadow-color);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            flex-shrink: 0;
        }

        .logo-image {
            display: flex;
            align-items: center;
        }

        .compass-icon {
            margin-right: 15px;
        }

        .compass-rose {
            width: 30px;
            height: 30px;
            position: relative;
            border-radius: 50%;
            border: 2px solid var(--gold-color);
        }

        .compass-line {
            position: absolute;
            background-color: var(--gold-color);
            transition: background-color 0.3s;
        }

        .compass-line-h { width: 100%; height: 2px; top: 50%; left: 0; transform: translateY(-50%); }
        .compass-line-v { width: 2px; height: 100%; top: 0; left: 50%; transform: translateX(-50%); }
        .compass-line-ne { width: 2px; height: 100%; top: 0; left: 50%; transform: translateX(-50%) rotate(45deg); }
        .compass-line-nw { width: 2px; height: 100%; top: 0; left: 50%; transform: translateX(-50%) rotate(-45deg); }

        .compass-center {
            width: 6px;
            height: 6px;
            background-color: var(--bg-color);
            border: 1px solid var(--gold-color);
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .compass-direction {
            position: absolute;
            font-size: 0.6rem;
            font-family: Arial, sans-serif;
            color: var(--gold-color);
            font-weight: bold;
        }

        .compass-n { top: -5px; left: 50%; transform: translateX(-50%); }
        .compass-e { right: -5px; top: 50%; transform: translateY(-50%); }
        .compass-s { bottom: -5px; left: 50%; transform: translateX(-50%); }
        .compass-w { left: -5px; top: 50%; transform: translateY(-50%); }

        .logo-text h1 {
            font-size: 1.2rem;
            margin: 0;
            color: var(--text-color);
        }

        .logo-text span {
            display: block;
            font-size: 0.8rem;
            color: var(--gold-color);
            font-family: 'Playfair Display', serif;
        }

        nav ul {
            list-style: none;
            display: flex;
        }

        nav ul li {
            margin-left: 20px;
        }

        nav ul li a {
            color: var(--text-color);
            text-transform: uppercase;
            font-size: 0.9rem;
            font-weight: bold;
            padding: 5px;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            font-family: 'Cinzel', serif;
        }

        nav ul li a:hover {
            color: var(--gold-color);
            border-bottom: 2px solid var(--gold-color);
        }
        
        /* REMOVENDO BOTÃO DE TEMA DO HEADER */
        .theme-toggle {
            display: none;
        }
        
        .header-left {
            display: flex;
            align-items: center;
        }

        .auth-buttons {
            display: flex;
            gap: 10px;
        }
        
        /* Botão Admin */
        .btn-admin {
            background-color: var(--secondary-color);
            color: var(--text-light);
            border: 2px solid var(--secondary-color);
        }
        .btn-admin:hover {
            background-color: #666666;
            border-color: #666666;
            color: var(--text-light);
        }
        
        /* Estilos para quando o usuário está logado */
        .user-info {
            display: none; 
            align-items: center;
            gap: 10px;
        }
        .user-info.logged-in {
            display: flex;
        }


        .user-avatar {
            width: 30px;
            height: 30px;
            background-color: var(--gold-color);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.2rem;
            color: var(--bg-dark);
            font-family: 'Cinzel', serif;
            font-weight: bold;
            cursor: pointer; 
        }

        .user-name {
            font-weight: bold;
            font-size: 1rem;
            color: var(--text-color);
        }

        /* ==================== 5. SECTION HERO ==================== */
        .hero-content {
            position: relative;
            z-index: 1;
            color: var(--text-light);
        }

        .hero-content h2 {
            font-size: 3rem;
            margin-bottom: 10px;
            color: var(--gold-color);
        }

        .hero-content p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            /* Alteração 2 - Estilo para o novo subtítulo */
            font-family: 'Cinzel', serif;
            font-weight: 400;
        }
        
        .social-icons {
            margin-bottom: 20px;
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        .social-icons a {
            font-size: 2rem;
            color: var(--text-light); /* Cor branca/clara */
            transition: color 0.3s;
        }
        .social-icons a:hover {
            color: var(--gold-color); /* Efeito hover dourado */
        }
        /* Remoção do Facebook mantida */
        .social-icons .fa-facebook-f {
            display: none;
        }
        
        /* Botão no Hero */
        .hero-content .btn-curadoria {
            margin-top: 30px;
        }
        
        /* ==================== 6. MODALS (Pop-ups) ==================== */
        .modal {
            display: none;
            position: fixed;
            z-index: 200;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: var(--card-bg);
            margin: 10% auto;
            padding: 30px;
            border: 1px solid var(--primary-color);
            width: 90%;
            max-width: 450px;
            border-radius: 8px;
            box-shadow: 0 5px 15px var(--box-shadow-color);
            position: relative;
            animation: fadeIn 0.3s;
        }
        
        /* Modal Admin Login */
        #admin-login-modal .modal-content {
            max-width: 400px;
        }
        /* Modal Checkout */
        #checkout-modal .modal-content {
            max-width: 500px;
            text-align: center;
        }
        #checkout-modal .modal-content h3 {
            color: var(--text-color);
        }
        #checkout-modal .modal-content .checkout-item {
            display: flex;
            justify-content: space-between;
            border-bottom: 1px dotted var(--border-color);
            padding: 10px 0;
        }
        #checkout-modal .modal-content .checkout-total {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--gold-color);
            padding: 15px 0;
            margin-top: 10px;
        }
        /* Alteração 6: Modal de Coluna Completa */
        #column-modal .modal-content {
            max-width: 800px;
            text-align: left;
        }
        #column-modal .modal-content h3 {
            color: var(--gold-color);
            text-align: left;
            margin-bottom: 10px;
        }
        #column-modal .modal-content p.column-date {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }
        #column-modal .modal-content p.column-content {
            white-space: pre-wrap; /* Mantém quebras de linha e espaços do textarea */
            color: var(--text-color);
            /* Alteração 6: Tira a barra de rolagem, o conteúdo será todo visível no modal */
            max-height: 70vh; 
            overflow-y: auto;
            padding-right: 15px;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .close-btn {
            color: var(--text-secondary);
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close-btn:hover,
        .close-btn:focus {
            color: var(--primary-color);
            text-decoration: none;
            cursor: pointer;
        }

        .modal-content h3 {
            margin-bottom: 20px;
            color: var(--gold-color);
            text-align: center;
        }

        .modal-content form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .modal-content .btn {
            width: 100%;
        }
        
        /* Mensagens de feedback do formulário/modal */
        .feedback-message {
            text-align: center;
            padding: 10px;
            margin-top: 15px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.9rem;
        }
        .feedback-success {
            background-color: #388e3c33;
            color: #4CAF50;
        }
        .feedback-error {
            background-color: #d32f2f33;
            color: #F44336;
        }
        /* Modal para Login/Cadastro (Alteração 10) */
        #auth-modal .modal-content {
            max-width: 600px;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }
        .tab-btn {
            padding: 10px 15px;
            cursor: pointer;
            border: none;
            background: none;
            color: var(--text-secondary);
            font-weight: bold;
            transition: color 0.3s, border-bottom 0.3s;
            border-bottom: 3px solid transparent;
            font-family: 'Cinzel', serif;
        }
        .tab-btn.active {
            color: var(--gold-color);
            border-bottom: 3px solid var(--gold-color);
        }


        /* ==================== 7. ADMIN PANEL (Alteração 9) ==================== */
        #admin-panel {
            background-color: var(--card-bg);
            padding: 40px;
            margin-top: 30px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }
        #admin .container {
            max-width: 1200px; /* Mais largura para o admin */
        }
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--gold-color);
            padding-bottom: 10px;
        }

        #admin-panel h2 {
            margin: 0;
            color: var(--gold-color);
            font-size: 1.8rem;
        }
        
        .admin-section {
            margin-bottom: 40px;
            padding: 20px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
        }

        .admin-section h3 {
            margin-top: 0;
            border-bottom: 1px solid var(--text-secondary);
            padding-bottom: 10px;
            margin-bottom: 20px;
            color: var(--text-color);
            font-size: 1.2rem;
        }

        /* Dashboard de Estatísticas */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background-color: var(--bg-dark); /* Fundo mais escuro */
            padding: 15px;
            border-radius: 6px;
            text-align: center;
            border-left: 4px solid var(--primary-color);
        }

        .stat-card h4 {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 5px;
        }

        .stat-card p {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        /* Formulários Admin - Categoria e Produto */
        .admin-form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        .admin-form-grid .full-width {
            grid-column: 1 / -1;
        }
        
        #category-manager, #product-manager, #column-manager, #export-data {
            border: 1px solid var(--primary-color);
            padding: 20px;
            border-radius: 6px;
            margin-bottom: 20px;
        }
        
        #category-manager h3, #product-manager h3, #column-manager h3, #export-data h3 {
            border-bottom: none;
            padding-bottom: 0;
            text-align: center;
            margin-bottom: 15px;
            color: var(--gold-color);
        }
        
        /* Botões de Ação na Lista Admin */
        .admin-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            justify-content: flex-end;
        }
        
        /* Estilos de Lista */
        .admin-list {
            list-style: none;
            padding: 0;
            margin-top: 15px;
            max-height: 300px;
            overflow-y: auto;
            padding-right: 10px;
        }
        .admin-list li {
            background-color: var(--bg-dark);
            padding: 10px;
            margin-bottom: 8px;
            border-radius: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 3px solid var(--secondary-color);
            font-size: 0.9rem;
        }
        .admin-list .item-info strong {
            color: var(--primary-color);
        }
        .admin-list .item-actions {
            display: flex;
            gap: 5px;
        }


        /* ==================== 8. OUTRAS SEÇÕES ==================== */
        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        /* Estilos para Cards QUEM SOMOS mantidos */
        #about-us .grid-3 {
            margin-top: 40px;
        }
        #about-us .card {
            text-align: center;
            border-top: 5px solid var(--gold-color);
            border-left: 1px solid var(--border-color); /* Sobrescreve a borda padrão para dar destaque vertical */
            padding-top: 40px;
        }
        #about-us .card h3 {
            color: var(--text-color);
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        #about-us .card p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .card {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 8px var(--box-shadow-color);
            border: 1px solid var(--border-color);
            transition: transform 0.3s, border-color 0.3s;
            position: relative; 
            z-index: 2;
        }

        .card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-color);
        }

        .card h3 {
            margin-bottom: 15px;
        }

        #about-us .container > p { /* Parágrafo principal abaixo do título "Quem Somos" */
            color: var(--text-color); 
            font-size: 1.1rem;
            margin-bottom: 20px;
        }
        
        /* Estilos para Categoria (Alteração 5) */
        #categories .subtitle {
            text-align: center;
            color: var(--text-color);
            margin-bottom: 40px;
        }
        #categories .subtitle h2 {
            margin-bottom: 5px;
            color: var(--gold-color);
        }
        #categories .subtitle p {
            font-size: 1.2rem;
            margin: 0;
            color: var(--text-light);
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); /* Mais compacto */
            gap: 15px;
            margin-bottom: 40px;
        }
        .category-card {
            background-color: var(--card-bg);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid var(--border-color);
            cursor: pointer;
            transition: all 0.3s;
            /* Alteração 5: Usando Flexbox para centralizar conteúdo verticalmente em telas menores */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%; /* Garante altura uniforme se o grid permitir */
        }
        .category-card:hover {
            border-color: var(--gold-color);
            transform: scale(1.05);
        }
        .category-card.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .category-card i {
            font-size: 2rem; /* Ícones um pouco menores */
            color: var(--gold-color);
            margin-bottom: 10px;
        }
        /* Estilo para ícones do Material Symbols */
        .category-card .material-symbols-outlined {
            font-size: 2.5rem;
            color: var(--gold-color);
            margin-bottom: 10px;
            /* Garante que o ícone do Material Symbols tenha peso visual adequado */
            font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 48;
        }

        .category-card h4 {
            color: var(--text-color);
            font-size: 0.85rem; /* Fonte menor */
            margin: 0;
        }
        .category-card p {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 5px;
        }

        /* Estilos para Produtos */
        #products { margin-top: 40px; display: none; }
        #products h2 { margin-bottom: 30px; }
        .products-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; }
        .product-card {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            text-align: center;
            transition: transform 0.3s;
        }
        .product-card:hover {
            transform: translateY(-5px);
            border-color: var(--gold-color);
        }
        .product-card h4 { color: var(--text-color); margin-bottom: 10px; }
        .product-card p { font-size: 0.9rem; color: var(--text-secondary); }
        .product-price { font-size: 1.5rem; color: var(--gold-color); font-weight: bold; margin: 15px 0; }
        .product-card .btn { width: 100%; }
        
        /* Estilos para Colunas Diárias (Alteração 6) */
        #daily-columns .subtitle {
            text-align: center;
            color: var(--text-color);
            margin-bottom: 40px;
        }
        .columns-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }
        .column-card {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            cursor: pointer;
            transition: all 0.3s;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .column-card:hover {
            border-color: var(--gold-color);
            transform: translateY(-5px);
        }
        .column-card h4 {
            color: var(--text-color);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        .column-card .column-preview {
            /* Alteração 6: Estilo para o CARD de coluna, removendo barra de rolagem/limite */
            overflow: hidden;
            max-height: 80px; /* Limite visual */
            margin-bottom: 15px;
            position: relative;
            color: var(--text-secondary);
        }
        .column-card .column-preview::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 30px;
            /* Fade out effect */
            background: linear-gradient(to bottom, rgba(30, 30, 30, 0), var(--card-bg));
        }
        .column-card .column-date {
            font-size: 0.8rem;
            color: var(--primary-color);
            margin-top: 10px;
        }


        /* ==================== 9. AVALIAÇÕES (Alteração 8) ==================== */
        #review-form h2 {
            text-align: center;
            margin-bottom: 5px;
        }
        #review-form p.subtitle {
            text-align: center;
            font-size: 1.1rem;
            color: var(--text-color);
            margin-bottom: 30px;
        }

        .rating-section {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 8px;
            border: 1px solid var(--primary-color);
            margin-bottom: 30px;
            text-align: center;
        }
        .stars {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        .star {
            color: var(--text-secondary); /* Cor padrão da estrela (cinza) */
            cursor: pointer;
            transition: color 0.2s, transform 0.1s;
        }
        .star:hover {
            transform: scale(1.1);
        }
        .star.selected {
            color: #FFC107; /* Cor amarela para estrela selecionada */
        }
        .rating-legend {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* ==================== 10. RODAPÉ (Alteração 3 e 4) ==================== */
        .site-footer {
            /* Alteração 4: Corrigido para ser um elemento estático e sempre visível, com padding */
            background-color: var(--card-bg);
            color: var(--text-light);
            padding: 30px 0;
            border-top: 2px solid var(--gold-color);
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 20px;
        }

        .footer-left {
            flex: 1 1 45%;
            min-width: 300px;
        }

        .footer-left h3 {
            color: var(--gold-color);
            margin-bottom: 10px;
        }

        .footer-left p {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .footer-right {
            flex: 1 1 45%;
            min-width: 300px;
            text-align: right;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            margin-bottom: 15px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .contact-item i {
            margin-left: 10px;
            color: var(--gold-color);
            font-size: 1.2rem;
        }
        
        .footer-bottom {
            width: 100%;
            text-align: center;
            border-top: 1px solid var(--border-color);
            padding-top: 15px;
            margin-top: 20px;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        /* Ajuste de responsividade para o rodapé */
        @media (max-width: 768px) {
            .footer-content {
                flex-direction: column;
                text-align: center;
            }
            .footer-left {
                text-align: center;
                min-width: 100%;
                margin-bottom: 20px;
            }
            .footer-right {
                text-align: center;
                align-items: center;
                min-width: 100%;
            }
            .contact-info {
                align-items: center;
            }
            .contact-item i {
                margin-left: 0;
                margin-right: 10px; /* Inverte a margem no mobile */
            }
            .contact-item {
                flex-direction: row-reverse; /* Ícone à esquerda no mobile */
                justify-content: center;
            }
            .theme-toggle-footer {
                margin-bottom: 20px;
            }
        }
        
        /* ==================== 11. PERFIL DO USUÁRIO (Alteração 10) ==================== */
        #user-profile .profile-container {
            background-color: var(--card-bg);
            padding: 40px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            max-width: 800px;
            margin: 30px auto;
        }
        #user-profile h2 {
            text-align: center;
            margin-bottom: 30px;
        }
        .profile-section {
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }
        .profile-section h3 {
            color: var(--text-color);
            font-size: 1.1rem;
            margin-bottom: 15px;
        }
        .profile-data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        .data-item p {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 5px;
        }
        .data-item strong {
            display: block;
            font-size: 1rem;
            color: var(--gold-color);
        }
        .bank-details .form-row {
            margin-bottom: 10px;
        }
        .bank-details .btn-small {
            margin-top: 10px;
        }
        .purchased-materials-list {
            list-style: none;
            padding: 0;
        }
        .purchased-materials-list li {
            background-color: var(--bg-dark);
            padding: 10px;
            margin-bottom: 8px;
            border-radius: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 3px solid var(--primary-color);
        }
        .purchased-materials-list a {
            color: var(--text-color);
            font-weight: bold;
        }
        .purchased-materials-list a:hover {
            color: var(--gold-color);
        }

    </style>
</head>
<body>

    <header>
        <div class="container">
            <div class="header-content">
                <a href="#hero" class="logo" onclick="showSection('hero')">
                    <div class="logo-image">
                        <div class="compass-icon">
                            <div class="compass-rose">
                                <div class="compass-line compass-line-h"></div>
                                <div class="compass-line compass-line-v"></div>
                                <div class="compass-line compass-line-ne"></div>
                                <div class="compass-line compass-line-nw"></div>
                                <div class="compass-center"></div>
                                <span class="compass-direction compass-n">N</span>
                                </div>
                        </div>
                        <div class="logo-text">
                            <h1>Curadoria Elite Travel</h1>
                            <span>O seu mundo, perfeitamente indicado.</span>
                        </div>
                    </div>
                </a>

                <nav>
                    <ul>
                        <li><a href="#hero" onclick="showSection('hero')">Início</a></li>
                        <li><a href="#categories" onclick="showSection('categories')">Curadoria</a></li>
                        <li><a href="#daily-columns" onclick="showSection('daily-columns')">Colunas</a></li>
                        <li><a href="#review-form" onclick="showSection('review-form')">Avalie-nos</a></li>
                        <li><a href="#contact-form" onclick="showSection('contact-form')">Contato</a></li>
                    </ul>
                </nav>

                <div class="auth-buttons">
                    <button class="btn btn-small btn-admin" onclick="openAdminLoginModal()">Admin</button>

                    <div id="auth-state">
                        <button class="btn btn-small btn-outline" onclick="openAuthModal('login')">Entrar ou Cadastrar</button>
                    </div>
                    
                    <div class="user-info" id="user-display">
                        <div class="user-avatar" onclick="showSection('user-profile')">
                            <span id="user-initial">C</span>
                        </div>
                        <span class="user-name" id="user-welcome">Olá, Cliente!</span>
                        <a href="#" class="logout-btn" onclick="logoutUser()">Sair</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <section id="hero" class="active">
        <div class="container">
            <div class="hero-content">
                <h2>Curadoria Elite Travel</h2>
                <p>Orquestramos cada detalhe com cuidado e expertise, para que você possa focar exclusivamente em viver experiências memoráveis</p>
                <p>Curadoria exclusiva para as experiências de viagem mais inesquecíveis.</p>
                
                <div class="social-icons">
                    <a href="LINK_INSTAGRAM" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="LINK_LINKEDIN" target="_blank" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                </div>

                <button class="btn btn-primary btn-curadoria" onclick="showSection('categories')">Descubra nossas Curadorias</button>
            </div>
        </div>
    </section>

    <section id="about-us">
        <div class="container">
            <h2 style="text-align: center;">Quem Somos</h2>
            <p style="text-align: center;">Nascemos da paixão por viagens e pelo desejo de transformar cada roteiro em uma obra de arte. Nossa curadoria não é apenas sobre destinos; é sobre criar a atmosfera perfeita para a sua jornada. </p>

            <div class="grid-3">
                <div class="card">
                    <h3>Visão</h3>
                    <p>Ser a principal referência em curadoria de viagens de luxo e experiências exclusivas no Brasil e no mundo.</p>
                </div>
                <div class="card">
                    <h3>Missão</h3>
                    <p>Oferecer roteiros personalizados e detalhados, garantindo que nossos clientes vivam apenas o extraordinário em suas viagens.</p>
                </div>
                <div class="card">
                    <h3>Valores</h3>
                    <p>Excelência, Personalização, Confiança, Paixão pelo Detalhe e Curadoria Especializada.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="categories">
        <div class="container">
            <div class="subtitle">
                <h2>Categorias de Curadoria</h2>
                <p>Navegue pelos temas que definem sua próxima aventura.</p>
            </div>
            
            <div class="categories-grid" id="category-cards-container">
                </div>

            <div id="products">
                <h2>Curadorias em <span id="current-category-title"></span></h2>
                <div class="products-container" id="products-container">
                    </div>
            </div>
        </div>
    </section>

    <section id="daily-columns">
        <div class="container">
            <div class="subtitle">
                <h2>Colunas Diárias</h2>
                <p>Dicas, inspirações e tendências do mundo das viagens, com a curadoria Elite Travel.</p>
            </div>
            <div class="columns-container" id="columns-container">
                </div>
        </div>
    </section>

    <section id="review-form">
        <div class="container">
            <h2>Sua percepção nos ajuda a evoluir</h2>
            <p class="subtitle">Ajude-nos a manter o nível de excelência da Curadoria Elite Travel. Deixe sua avaliação:</p>

            <div class="rating-section">
                <div class="stars" id="rating-stars">
                    </div>
                <div class="rating-legend" id="rating-legend">
                    </div>
            </div>
            
            <form id="submit-review-form" onsubmit="submitReview(event)">
                <div class="form-row">
                    <div class="form-group"><label for="review-nome">Nome</label><input type="text" id="review-nome" maxlength="50" required></div>
                    <div class="form-group"><label for="review-sobrenome">Sobrenome</label><input type="text" id="review-sobrenome" maxlength="50" required></div>
                </div>
                <div class="form-row">
                    <div class="form-group"><label for="review-email">Email</label><input type="email" id="review-email" required></div>
                    <div class="form-group"><label for="review-genero">Gênero</label><input type="text" id="review-genero" required></div>
                </div>
                <div class="form-row">
                    <div class="form-group"><label for="review-aniversario">Data de Aniversário</label><input type="date" id="review-aniversario" required></div>
                    <div class="form-group"><label for="review-estado">Estado</label><input type="text" id="review-estado" maxlength="50" required></div>
                    <div class="form-group"><label for="review-cidade">Cidade</label><input type="text" id="review-cidade" maxlength="50" required></div>
                </div>

                <div class="form-group">
                    <label for="review-tipo">Tipo de Feedback</label>
                    <select id="review-tipo" required>
                        <option value="">Selecione</option>
                        <option value="Comentário">Comentário</option>
                        <option value="Sugestão">Sugestão</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="review-comentario">Comentário/Sugestão (Máx. 200 caracteres)</label>
                    <textarea id="review-comentario" rows="4" maxlength="200" required></textarea>
                </div>

                <div id="review-feedback" class="feedback-message" style="display: none;"></div>
                <button type="submit" class="btn btn-primary">Enviar Avaliação</button>
            </form>
        </div>
    </section>

    <section id="contact-form">
        <div class="container" style="max-width: 600px;">
            <h2 style="text-align: center;">Fale Conosco</h2>
            <p style="text-align: center; color: var(--text-light); margin-bottom: 30px;">Envie-nos uma mensagem, ficaremos felizes em ajudar!</p>
            
            <div class="card">
                <form id="contactForm" onsubmit="sendContactEmail(event)">
                    <div class="form-group"><label for="contact-name">Nome</label><input type="text" id="contact-name" name="from_name" required></div>
                    <div class="form-group"><label for="contact-email">Email</label><input type="email" id="contact-email" name="from_email" required></div>
                    <div class="form-group"><label for="contact-subject">Assunto</label><input type="text" id="contact-subject" name="subject" required></div>
                    <div class="form-group">
                        <label for="contact-message">Mensagem (Máx. 300 caracteres)</label>
                        <textarea id="contact-message" rows="6" name="message" maxlength="300" required></textarea>
                    </div>
                    
                    <div id="contact-feedback" class="feedback-message" style="display: none;"></div>
                    <button type="submit" class="btn btn-primary">Enviar Mensagem</button>
                </form>
            </div>
        </div>
    </section>

    <section id="admin">
        <div class="container">
            <div id="admin-panel" style="display: none;">
                <div class="admin-header">
                    <h2>Painel Administrativo</h2>
                    <div>
                        <button class="btn btn-outline btn-small" onclick="showAdminDashboard()">Dashboard</button>
                        <button class="btn btn-admin btn-small" onclick="adminLogout()">Sair</button>
                    </div>
                </div>

                <div class="admin-section">
                    <h3>Estatísticas do Site</h3>
                    <div class="stats-grid">
                        <div class="stat-card"><h4>Visualizações de Página</h4><p id="stat-views">0</p></div>
                        <div class="stat-card"><h4>Materiais Baixados</h4><p id="stat-downloads">0</p></div>
                        <div class="stat-card"><h4>Valor Total de Compras</h4><p id="stat-sales">R$ 0,00</p></div>
                        <div class="stat-card"><h4>Avaliações Recebidas</h4><p id="stat-reviews">0</p></div>
                        <div class="stat-card"><h4>Mensagens de Contato</h4><p id="stat-messages">0</p></div>
                        <div class="stat-card"><h4>Cadastros de Perfil</h4><p id="stat-profiles">0</p></div>
                    </div>
                </div>

                <div class="admin-section" id="category-manager">
                    <h3>Gerenciamento de Categorias</h3>
                    <form id="add-category-form" onsubmit="addCategory(event)">
                        <div class="admin-form-grid">
                            <div class="form-group"><label>Nome da Categoria</label><input type="text" id="new-category-name" required></div>
                            <div class="form-group"><label>Ícone (Material Symbol)</label><input type="text" id="new-category-icon" placeholder="Ex: location_city" required></div>
                            <div class="full-width form-group"><label>Descrição (Opcional)</label><textarea id="new-category-description" rows="2"></textarea></div>
                            <div class="form-group">
                                <label>Preço Padrão (R$)</label>
                                <input type="number" id="new-category-price" min="0" step="0.01" required>
                            </div>
                            <div class="form-group">
                                <label>Status</label>
                                <select id="new-category-status">
                                    <option value="enabled">Ativo</option>
                                    <option value="disabled">EM BREVE</option>
                                </select>
                            </div>
                        </div>
                        <div class="admin-actions">
                            <button type="submit" class="btn btn-primary btn-small">Adicionar Categoria</button>
                        </div>
                    </form>

                    <h4>Categorias Existentes</h4>
                    <ul class="admin-list" id="existing-categories-list">
                        </ul>
                </div>

                <div class="admin-section" id="product-manager">
                    <h3>Gerenciamento de Produtos (PDFs)</h3>
                    <form id="add-product-form" onsubmit="addProduct(event)">
                        <div class="admin-form-grid">
                            <div class="form-group"><label>Código do Produto</label><input type="text" id="new-product-code" required></div>
                            <div class="form-group"><label>Categoria</label><select id="new-product-category" required><option value="">Selecione...</option></select></div>
                            <div class="form-group"><label>País</label><input type="text" id="new-product-country" required></div>
                            <div class="form-group"><label>Cidade</label><input type="text" id="new-product-city" required></div>
                            <div class="form-group"><label>Preço (R$)</label><input type="number" id="new-product-price" min="0" step="0.01" required></div>
                            <div class="form-group"><label>Arquivo PDF (URL/Placeholder)</label><input type="text" id="new-product-file" placeholder="Ex: url_do_pdf" required></div>
                            <div class="full-width form-group"><label>Descrição do Produto</label><textarea id="new-product-description" rows="3" required></textarea></div>
                        </div>
                        <div class="admin-actions">
                            <button type="submit" class="btn btn-primary btn-small">Adicionar Produto</button>
                        </div>
                    </form>

                    <h4>Produtos Cadastrados</h4>
                    <ul class="admin-list" id="existing-products-list">
                        </ul>
                </div>

                <div class="admin-section" id="column-manager">
                    <h3>Gerenciamento de Colunas Diárias</h3>
                    <form id="add-column-form" onsubmit="addColumn(event)">
                        <div class="form-group"><label>Título da Coluna</label><input type="text" id="new-column-title" required></div>
                        <div class="form-group"><label>Data de Publicação (DD/MM/AAAA)</label><input type="text" id="new-column-date" placeholder="DD/MM/AAAA" required></div>
                        <div class="form-group"><label>Conteúdo da Coluna</label><textarea id="new-column-content" rows="6" required></textarea></div>
                        <div class="admin-actions">
                            <button type="submit" class="btn btn-primary btn-small">Adicionar Coluna</button>
                        </div>
                    </form>

                    <h4>Colunas Existentes</h4>
                    <ul class="admin-list" id="existing-columns-list">
                        </ul>
                </div>

                <div class="admin-section" id="export-data">
                    <h3>Exportar Dados (Excel)</h3>
                    <div class="admin-form-grid">
                        <div class="form-group"><label>Data de Início</label><input type="date" id="export-start-date"></div>
                        <div class="form-group"><label>Data de Fim</label><input type="date" id="export-end-date"></div>
                        <div class="full-width form-group">
                            <label>Tipo de Dado</label>
                            <select id="export-data-type" required>
                                <option value="users">Cadastros de Perfil</option>
                                <option value="reviews">Avaliações Recebidas</option>
                                <option value="purchases">Dados de Compra</option>
                            </select>
                        </div>
                    </div>
                    <div class="admin-actions">
                        <button type="button" class="btn btn-outline btn-small" onclick="exportDataToExcel()">Exportar para Excel</button>
                    </div>
                </div>

            </div>
        </div>
    </section>
    
    <section id="user-profile">
        <div class="container">
            <div class="profile-container" id="profile-content">
                <h2>Perfil do Cliente</h2>

                <div class="profile-section">
                    <h3>Informações Pessoais <button class="btn-small btn-outline" onclick="toggleEditMode('personal')">Alterar Dados</button></h3>
                    <div class="profile-data-grid" id="personal-data-view">
                        </div>
                    <div id="personal-data-edit" style="display: none;">
                        <form id="edit-personal-form" onsubmit="updatePersonalData(event)">
                            <div class="form-row">
                                <div class="form-group"><label>Nome</label><input type="text" id="edit-nome" required></div>
                                <div class="form-group"><label>Sobrenome</label><input type="text" id="edit-sobrenome" required></div>
                            </div>
                            <div class="form-row">
                                <div class="form-group"><label>Email</label><input type="email" id="edit-email" required></div>
                                <div class="form-group"><label>Data de Nasc.</label><input type="date" id="edit-nascimento" required></div>
                            </div>
                            <div class="form-row">
                                <div class="form-group"><label>Estado</label><input type="text" id="edit-estado" required></div>
                                <div class="form-group"><label>Cidade</label><input type="text" id="edit-cidade" required></div>
                            </div>
                            <div class="form-group"><label>Nome de Perfil</label><input type="text" id="edit-profile-name" required></div>
                            <div class="form-row">
                                <div class="form-group"><label>Nova Senha</label><input type="password" id="edit-senha" placeholder="Deixe vazio para manter a atual"></div>
                                <div class="form-group"><label>Confirme a Senha</label><input type="password" id="edit-confirmar-senha" placeholder="Deixe vazio para manter a atual"></div>
                            </div>
                            <button type="submit" class="btn btn-primary btn-small">Salvar Alterações</button>
                            <div id="personal-edit-feedback" class="feedback-message" style="display: none;"></div>
                        </form>
                    </div>
                </div>

                <div class="profile-section bank-details">
                    <h3>Dados Bancários (Para Pagamentos) <button class="btn-small btn-outline" onclick="toggleEditMode('bank')">Adicionar/Alterar</button></h3>
                    <div id="bank-data-view">
                        </div>
                    <div id="bank-data-edit" style="display: none;">
                        <form id="edit-bank-form" onsubmit="updateBankData(event)">
                            <div class="form-group"><label>Nome no Cartão</label><input type="text" id="bank-nome-cartao"></div>
                            <div class="form-group"><label>Número do Cartão</label><input type="text" id="bank-numero-cartao" maxlength="16"></div>
                            <div class="form-row">
                                <div class="form-group"><label>Validade (MM/AA)</label><input type="text" id="bank-validade" maxlength="5" placeholder="MM/AA"></div>
                                <div class="form-group"><label>CVV</label><input type="text" id="bank-cvv" maxlength="4"></div>
                            </div>
                            <button type="submit" class="btn btn-primary btn-small">Salvar Dados Bancários</button>
                            <div id="bank-edit-feedback" class="feedback-message" style="display: none;"></div>
                        </form>
                    </div>
                </div>

                <div class="profile-section">
                    <h3>Materiais Adquiridos</h3>
                    <ul class="purchased-materials-list" id="purchased-materials">
                        <li>Nenhum material adquirido ainda.</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <footer class="site-footer">
        <div class="container footer-content">
            <div class="footer-left">
                <h3>Curadoria Elite Travel</h3>
                <p>O seu mundo, perfeitamente indicado. Oferecemos soluções de viagem com curadoria especializada, transformando seus destinos em experiências inesquecíveis.</p>
            </div>
            
            <div class="footer-right">
                <div class="contact-info">
                    <div class="contact-item">curadoriaelitetravel@gmail.com <i class="fas fa-envelope"></i></div>
                    <div class="contact-item">São Paulo, SP <i class="fas fa-map-marker-alt"></i></div>
                    <button class="theme-toggle-footer" onclick="toggleTheme()">
                        <i id="theme-icon-footer" class="fas fa-moon"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="container footer-bottom">
            <p>© 2025 Curadoria Elite Travel. Todos os direitos reservados. O seu mundo, bem indicado.</p>
        </div>
    </footer>


    <div id="admin-login-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('admin-login-modal')">&times;</span>
            <h3>Acesso Administrativo</h3>
            <form id="admin-login-form" onsubmit="adminLogin(event)">
                <div class="form-group"><label for="admin-email">Email</label><input type="email" id="admin-email" required></div>
                <div class="form-group"><label for="admin-password">Senha</label><input type="password" id="admin-password" required></div>
                <div id="admin-login-feedback" class="feedback-message" style="display: none;"></div>
                <button type="submit" class="btn btn-primary">Entrar</button>
            </form>
        </div>
    </div>

    <div id="auth-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('auth-modal')">&times;</span>
            
            <div class="tabs">
                <button class="tab-btn active" id="login-tab-btn" onclick="openAuthTab('login')">Entrar</button>
                <button class="tab-btn" id="register-tab-btn" onclick="openAuthTab('register')">Cadastrar-se</button>
            </div>

            <div id="login-tab" class="tab-content active">
                <h3>Acesso à Sua Conta</h3>
                <form id="login-form" onsubmit="loginUser(event)">
                    <div class="form-group"><label for="login-email">Email</label><input type="email" id="login-email" required></div>
                    <div class="form-group"><label for="login-password">Senha</label><input type="password" id="login-password" required></div>
                    <div id="login-feedback" class="feedback-message" style="display: none;"></div>
                    <button type="submit" class="btn btn-primary">Entrar</button>
                </form>
            </div>

            <div id="register-tab" class="tab-content">
                <h3>Crie Sua Conta Elite Travel</h3>
                <form id="register-form" onsubmit="registerUser(event)">
                    <div class="form-row">
                        <div class="form-group"><label for="register-nome">Nome</label><input type="text" id="register-nome" required></div>
                        <div class="form-group"><label for="register-sobrenome">Sobrenome</label><input type="text" id="register-sobrenome" required></div>
                    </div>
                    <div class="form-group"><label for="register-email">Email para Contato</label><input type="email" id="register-email" required></div>
                    <div class="form-row">
                        <div class="form-group"><label for="register-nascimento">Data de Nascimento</label><input type="date" id="register-nascimento" required></div>
                        <div class="form-group"><label for="register-estado">Estado</label><input type="text" id="register-estado" required></div>
                        <div class="form-group"><label for="register-cidade">Cidade</label><input type="text" id="register-cidade" required></div>
                    </div>
                    <div class="form-group"><label for="register-profile-name">Nome de Perfil</label><input type="text" id="register-profile-name" required></div>
                    <div class="form-row">
                        <div class="form-group"><label for="register-password">Senha</label><input type="password" id="register-password" required></div>
                        <div class="form-group"><label for="register-confirm-password">Confirmar Senha</label><input type="password" id="register-confirm-password" required></div>
                    </div>
                    <div id="register-feedback" class="feedback-message" style="display: none;"></div>
                    <button type="submit" class="btn btn-primary">Cadastrar</button>
                </form>
            </div>
        </div>
    </div>


    <div id="column-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('column-modal')">&times;</span>
            <h3 id="modal-column-title">Título da Coluna</h3>
            <p class="column-date" id="modal-column-date">00/00/0000</p>
            <p class="column-content" id="modal-column-content">Conteúdo completo...</p>
        </div>
    </div>

    <div id="checkout-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('checkout-modal')">&times;</span>
            <h3>Finalizar Compra</h3>
            
            <div class="checkout-item">
                <span>Produto:</span><strong id="checkout-product-name">Roteiro X</strong>
            </div>
            <div class="checkout-item">
                <span>Preço:</span><strong id="checkout-product-price">R$ 0,00</strong>
            </div>
            <div class="checkout-total">
                <span>Total a Pagar:</span><strong id="checkout-total-value">R$ 0,00</strong>
            </div>

            <p style="margin-top: 20px; color: var(--text-color);">Será cobrado o cartão salvo em seu perfil.</p>
            <div id="checkout-feedback" class="feedback-message" style="display: none;"></div>
            
            <button class="btn btn-primary" onclick="processPayment()">Confirmar Compra</button>
            <p style="font-size: 0.8rem; margin-top: 10px; color: var(--text-secondary);">Ao confirmar, você concorda com nossos termos de serviço.</p>
        </div>
    </div>

    <script>
        // ==================== DADOS MOCKADOS (Substituir por backend real) ====================
        let MOCK_CATEGORIES = [
            { id: 1, name: "City Guide", icon: "map", price: 49.90, status: 'enabled', description: 'Roteiros completos de cidade.' },
            { id: 2, name: "Restaurante", icon: "restaurant", price: 29.90, status: 'enabled', description: 'Seleção dos melhores lugares para comer.' },
            { id: 3, name: "Bares", icon: "local_bar", price: 19.90, status: 'enabled', description: 'Onde tomar os melhores drinks.' },
            { id: 4, name: "Pontos Turísticos", icon: "public", price: 39.90, status: 'enabled', description: 'Os lugares imperdíveis da região.' },
            { id: 5, name: "Passeios", icon: "hiking", price: 45.90, status: 'enabled', description: 'Sugestões de atividades e tours.' },
            { id: 6, name: "Vida Noturna", icon: "nights_stay", price: 25.90, status: 'enabled', description: 'O melhor da balada e entretenimento.' },
            { id: 7, name: "Compras", icon: "shopping_bag", price: 35.90, status: 'enabled', description: 'Lojas e centros comerciais de destaque.' },
            { id: 8, name: "Presentes", icon: "redeem", price: 15.90, status: 'enabled', description: 'Ideias de souvenirs e presentes.' },
            { id: 9, name: "Hoteis", icon: "hotel", price: 59.90, status: 'enabled', description: 'Seleção de hospedagens de luxo.' },
            { id: 10, name: "Cruzeiros", icon: "directions_boat", price: 79.90, status: 'disabled', description: 'EM BREVE' }
        ];

        let MOCK_PRODUCTS = [
            { id: 101, code: 'CG-PAR-24', categoryId: 1, country: 'França', city: 'Paris', price: 49.90, description: 'Guia de Paris 3 dias.', fileUrl: 'mock_pdf_paris.pdf' },
            { id: 102, code: 'RT-NY-24', categoryId: 2, country: 'EUA', city: 'Nova York', price: 29.90, description: 'Roteiro Gastronômico de Manhattan.', fileUrl: 'mock_pdf_ny_rest.pdf' },
            { id: 103, code: 'HT-DB-24', categoryId: 9, country: 'EAU', city: 'Dubai', price: 59.90, description: 'Melhores Hotéis de Luxo em Dubai.', fileUrl: 'mock_pdf_dubai_hotel.pdf' },
        ];

        let MOCK_COLUMNS = [
            { id: 1, title: "O Despertar de Lisboa: Um Guia Pessoal", date: "15/11/2025", content: "Lisboa, a cidade das sete colinas, cativa com sua história rica e charme melancólico. Não deixe de visitar o Mosteiro dos Jerónimos e saborear um pastel de nata na Manteigaria. A noite no Bairro Alto é imperdível, com seus bares minúsculos e atmosfera festiva. Passeie de Elétrico 28 para uma experiência autêntica." },
            { id: 2, title: "Gastronomia de Milão: Além da Moda", date: "10/11/2025", content: "Milão é a capital da moda, mas sua culinária é igualmente sofisticada. A Osteria Conchetta oferece pratos tradicionais como o risotto alla milanese. Lembre-se, o aperitivo é sagrado na Itália; entre 18h e 21h, muitos bares oferecem buffets com o seu drink. E para um toque Elite: experimente o Bar Basso, um local histórico para coquetéis." },
            { id: 3, title: "Os Mercados de Marrakesh: Um Labirinto de Cores", date: "05/11/2025", content: "Perder-se nos souks de Marrakesh é parte da experiência. Regatear é obrigatório. Não perca a praça Jemaa el-Fna ao anoitecer, com contadores de histórias e barracas de comida. Para um retiro de paz, o Jardin Majorelle (antigo lar de Yves Saint Laurent) oferece um oásis azul e verde." },
        ];

        let MOCK_USERS = [
            { 
                id: '1', 
                profileName: 'AdminCliente', 
                email: 'cliente@elitetravel.com', 
                password: 'cliente@123', 
                firstName: 'Cliente', 
                lastName: 'Teste', 
                birthDate: '1990-01-01', 
                state: 'São Paulo', 
                city: 'São Paulo',
                bankName: 'Visa',
                bankNumber: '**** **** **** 1234',
                purchases: [
                    { productId: 101, code: 'CG-PAR-24', title: 'Guia de Paris 3 dias', date: '2025-10-20', fileUrl: 'mock_pdf_paris.pdf' }
                ]
            }
        ];

        let MOCK_REVIEWS = [];
        let MOCK_MESSAGES = [];
        let MOCK_STATS = {
            views: 1245,
            downloads: 42,
            sales: 42 * 49.90, // Estimativa simples
            reviews: 0,
            messages: 0,
            profiles: 1 // o mock user
        };

        // Estado Global
        let CURRENT_USER = null;
        let selectedRating = 0;
        // ========================================================================================


        // ==================== FUNÇÕES DE INICIALIZAÇÃO ====================
        document.addEventListener('DOMContentLoaded', () => {
            // Inicializa EmailJS (Mantido)
            (function() {
                // Substitua com seu serviceID e templateID reais
                emailjs.init("YOUR_PUBLIC_KEY"); // Substitua pelo seu Public Key
            })();

            // Carrega dados e renderiza
            loadInitialData();

            // Configura o SPA (Single Page Application)
            const initialSection = window.location.hash ? window.location.hash.substring(1) : 'hero';
            showSection(initialSection);
        });

        function loadInitialData() {
            renderCategoryCards();
            renderColumns();
            renderRatingStars();
            updateAuthDisplay();
            updateAdminDashboard();
        }

        // ==================== FUNÇÕES SPA & TEMA (Alteração 1 & 4) ====================
        function showSection(sectionId) {
            // Oculta todas as seções
            document.querySelectorAll('section').forEach(section => {
                section.classList.remove('active');
            });

            // Mostra a seção desejada
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }

            // Atualiza o hash na URL
            window.location.hash = sectionId;
        }

        function toggleTheme() {
            const body = document.body;
            body.classList.toggle('light-theme');
            
            const isLight = body.classList.contains('light-theme');
            const icon = document.getElementById('theme-icon-footer');
            icon.className = isLight ? 'fas fa-sun' : 'fas fa-moon';
            
            // Salva a preferência no localStorage
            localStorage.setItem('theme', isLight ? 'light' : 'dark');
        }

        // Aplica o tema salvo (mantido)
        if (localStorage.getItem('theme') === 'light') {
            document.body.classList.add('light-theme');
            document.getElementById('theme-icon-footer').className = 'fas fa-sun';
        }
        
        // ==================== FUNÇÕES DE AUTENTICAÇÃO (Alteração 10) ====================
        function openAuthModal(tab = 'login') {
            document.getElementById('auth-modal').style.display = 'block';
            openAuthTab(tab);
        }
        
        function openAuthTab(tab) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));

            document.getElementById(`${tab}-tab`).classList.add('active');
            document.getElementById(`${tab}-tab-btn`).classList.add('active');
        }

        function updateAuthDisplay() {
            const authState = document.getElementById('auth-state');
            const userDisplay = document.getElementById('user-display');
            const adminButton = document.querySelector('.btn-admin');
            
            if (CURRENT_USER) {
                authState.style.display = 'none';
                userDisplay.classList.add('logged-in');
                document.getElementById('user-initial').textContent = CURRENT_USER.profileName.charAt(0).toUpperCase();
                document.getElementById('user-welcome').textContent = `Olá, ${CURRENT_USER.profileName}!`;
            } else {
                authState.style.display = 'flex';
                userDisplay.classList.remove('logged-in');
            }

            // O botão de Admin fica sempre visível, mas pode ser escondido se for preciso
        }

        function registerUser(event) {
            event.preventDefault();
            const form = event.target;
            const feedback = document.getElementById('register-feedback');
            
            if (form['register-password'].value !== form['register-confirm-password'].value) {
                feedback.textContent = 'As senhas não coincidem!';
                feedback.className = 'feedback-message feedback-error';
                feedback.style.display = 'block';
                return;
            }

            // Simulação de cadastro
            const newUser = {
                id: (MOCK_USERS.length + 1).toString(),
                profileName: form['register-profile-name'].value,
                email: form['register-email'].value,
                password: form['register-password'].value,
                firstName: form['register-nome'].value,
                lastName: form['register-sobrenome'].value,
                birthDate: form['register-nascimento'].value,
                state: form['register-estado'].value,
                city: form['register-cidade'].value,
                bankName: '',
                bankNumber: '',
                purchases: []
            };
            MOCK_USERS.push(newUser);
            MOCK_STATS.profiles++;
            updateAdminDashboard(); // Atualiza estatística

            feedback.textContent = 'Cadastro realizado com sucesso! Faça login para continuar.';
            feedback.className = 'feedback-message feedback-success';
            feedback.style.display = 'block';
            form.reset();
            
            // Alterna para a aba de login
            setTimeout(() => openAuthTab('login'), 2000);
        }

        function loginUser(event) {
            event.preventDefault();
            const form = event.target;
            const email = form['login-email'].value;
            const password = form['login-password'].value;
            const feedback = document.getElementById('login-feedback');
            
            const user = MOCK_USERS.find(u => u.email === email && u.password === password);

            if (user) {
                CURRENT_USER = user;
                updateAuthDisplay();
                closeModal('auth-modal');
                showSection('user-profile'); // Vai para a tela de perfil após o login
            } else {
                feedback.textContent = 'Email ou senha incorretos.';
                feedback.className = 'feedback-message feedback-error';
                feedback.style.display = 'block';
            }
        }

        function logoutUser() {
            CURRENT_USER = null;
            updateAuthDisplay();
            showSection('hero');
            document.getElementById('profile-content').style.display = 'none';
        }

        // ==================== FUNÇÕES DE PERFIL (Alteração 10 - Continuação) ====================
        function renderUserProfile() {
            if (!CURRENT_USER) return;
            document.getElementById('profile-content').style.display = 'block';
            
            const viewContainer = document.getElementById('personal-data-view');
            viewContainer.innerHTML = `
                <div class="data-item"><p>Nome:</p><strong>${CURRENT_USER.firstName} ${CURRENT_USER.lastName}</strong></div>
                <div class="data-item"><p>Nome de Perfil:</p><strong>${CURRENT_USER.profileName}</strong></div>
                <div class="data-item"><p>Email:</p><strong>${CURRENT_USER.email}</strong></div>
                <div class="data-item"><p>Data de Nasc.:</p><strong>${CURRENT_USER.birthDate}</strong></div>
                <div class="data-item"><p>Localização:</p><strong>${CURRENT_USER.city}, ${CURRENT_USER.state}</strong></div>
            `;
            
            // Dados bancários
            const bankView = document.getElementById('bank-data-view');
            if (CURRENT_USER.bankName) {
                bankView.innerHTML = `
                    <div class="profile-data-grid">
                        <div class="data-item"><p>Cartão Salvo:</p><strong>${CURRENT_USER.bankName}</strong></div>
                        <div class="data-item"><p>Número:</p><strong>${CURRENT_USER.bankNumber}</strong></div>
                    </div>
                `;
            } else {
                bankView.innerHTML = `<p style="color: var(--text-secondary);">Nenhum dado bancário salvo. Adicione para realizar compras.</p>`;
            }

            // Materiais adquiridos
            const purchasedList = document.getElementById('purchased-materials');
            purchasedList.innerHTML = CURRENT_USER.purchases.length > 0 ?
                CURRENT_USER.purchases.map(p => `
                    <li>
                        <a href="${p.fileUrl}" target="_blank" onclick="trackDownload('${p.code}')">${p.title} (${p.code})</a>
                        <span>Adquirido em ${p.date}</span>
                    </li>
                `).join('') :
                '<li>Nenhum material adquirido ainda.</li>';
        }
        
        function toggleEditMode(section) {
            const view = document.getElementById(`${section}-data-view`);
            const edit = document.getElementById(`${section}-data-edit`);
            const isEditing = edit.style.display === 'block';

            edit.style.display = isEditing ? 'none' : 'block';
            view.style.display = isEditing ? 'block' : 'none';

            if (!isEditing && section === 'personal') {
                // Preencher formulário com dados atuais antes de editar
                document.getElementById('edit-nome').value = CURRENT_USER.firstName;
                document.getElementById('edit-sobrenome').value = CURRENT_USER.lastName;
                document.getElementById('edit-email').value = CURRENT_USER.email;
                document.getElementById('edit-nascimento').value = CURRENT_USER.birthDate;
                document.getElementById('edit-estado').value = CURRENT_USER.state;
                document.getElementById('edit-cidade').value = CURRENT_USER.city;
                document.getElementById('edit-profile-name').value = CURRENT_USER.profileName;
            }
        }

        function updatePersonalData(event) {
            event.preventDefault();
            const form = event.target;
            const feedback = document.getElementById('personal-edit-feedback');
            const newPassword = form['edit-senha'].value;
            const confirmPassword = form['edit-confirmar-senha'].value;

            if (newPassword && newPassword !== confirmPassword) {
                feedback.textContent = 'A nova senha e a confirmação não coincidem!';
                feedback.className = 'feedback-message feedback-error';
                feedback.style.display = 'block';
                return;
            }

            // Atualiza os dados do usuário mockado
            CURRENT_USER.firstName = form['edit-nome'].value;
            CURRENT_USER.lastName = form['edit-sobrenome'].value;
            CURRENT_USER.email = form['edit-email'].value;
            CURRENT_USER.birthDate = form['edit-nascimento'].value;
            CURRENT_USER.state = form['edit-estado'].value;
            CURRENT_USER.city = form['edit-cidade'].value;
            CURRENT_USER.profileName = form['edit-profile-name'].value;
            if (newPassword) {
                CURRENT_USER.password = newPassword;
            }

            feedback.textContent = 'Dados pessoais atualizados com sucesso!';
            feedback.className = 'feedback-message feedback-success';
            feedback.style.display = 'block';
            
            // Atualiza a visualização e sai do modo de edição
            setTimeout(() => {
                toggleEditMode('personal');
                renderUserProfile();
                updateAuthDisplay();
            }, 1500);
        }

        function updateBankData(event) {
            event.preventDefault();
            const form = event.target;
            const feedback = document.getElementById('bank-edit-feedback');
            
            // Simulação de salvamento de dados bancários
            CURRENT_USER.bankName = form['bank-nome-cartao'].value || 'Cartão Salvo'; 
            CURRENT_USER.bankNumber = '**** **** **** ' + form['bank-numero-cartao'].value.slice(-4);

            feedback.textContent = 'Dados bancários salvos com sucesso!';
            feedback.className = 'feedback-message feedback-success';
            feedback.style.display = 'block';

            setTimeout(() => {
                toggleEditMode('bank');
                renderUserProfile();
            }, 1500);
        }

        window.addEventListener('hashchange', () => {
            const sectionId = window.location.hash.substring(1);
            showSection(sectionId);
            if (sectionId === 'user-profile') {
                renderUserProfile();
            }
        });
        
        // ==================== FUNÇÕES DE CATEGORIAS E PRODUTOS (Alteração 5) ====================
        
        function renderCategoryCards() {
            const container = document.getElementById('category-cards-container');
            container.innerHTML = MOCK_CATEGORIES.map(cat => {
                const isDisabled = cat.status === 'disabled';
                const action = isDisabled ? 'void(0)' : `selectCategory(${cat.id})`;
                const statusText = isDisabled ? ' (EM BREVE)' : '';
                
                return `
                    <div class="category-card ${isDisabled ? 'disabled' : ''}" onclick="${action}">
                        <span class="material-symbols-outlined">${cat.icon}</span>
                        <h4>${cat.name.toUpperCase()}</h4>
                        <p>${cat.description}${statusText}</p>
                    </div>
                `;
            }).join('');
            
            // Garante que o dropdown de admin esteja atualizado
            renderAdminCategorySelect();
        }

        function selectCategory(categoryId) {
            const category = MOCK_CATEGORIES.find(c => c.id === categoryId);
            if (!category) return;
            
            document.getElementById('current-category-title').textContent = category.name;
            document.getElementById('products').style.display = 'block';
            
            renderProducts(categoryId);
        }

        function renderProducts(categoryId) {
            const container = document.getElementById('products-container');
            const filteredProducts = MOCK_PRODUCTS.filter(p => p.categoryId === categoryId);

            container.innerHTML = filteredProducts.map(p => `
                <div class="product-card">
                    <h4>${p.country} - ${p.city}</h4>
                    <p>${p.description}</p>
                    <p class="product-price">R$ ${p.price.toFixed(2).replace('.', ',')}</p>
                    <button class="btn btn-primary" onclick="openCheckoutModal(${p.id})">Comprar</button>
                </div>
            `).join('');

            if (filteredProducts.length === 0) {
                container.innerHTML = `<p style="text-align: center; color: var(--text-secondary); grid-column: 1 / -1;">Nenhum produto disponível nesta categoria no momento.</p>`;
            }
        }
        
        function openCheckoutModal(productId) {
            if (!CURRENT_USER) {
                alert('Você precisa estar logado para realizar uma compra.');
                openAuthModal('login');
                return;
            }
            if (!CURRENT_USER.bankName) {
                alert('Por favor, adicione um cartão de crédito em seu perfil antes de realizar compras.');
                showSection('user-profile');
                return;
            }

            const product = MOCK_PRODUCTS.find(p => p.id === productId);
            if (!product) return;

            // Salva o produto para o processamento
            document.getElementById('checkout-modal').dataset.productId = productId;
            
            document.getElementById('checkout-product-name').textContent = `${product.country} - ${product.city}`;
            document.getElementById('checkout-product-price').textContent = `R$ ${product.price.toFixed(2).replace('.', ',')}`;
            document.getElementById('checkout-total-value').textContent = `R$ ${product.price.toFixed(2).replace('.', ',')}`;
            document.getElementById('checkout-feedback').style.display = 'none';

            document.getElementById('checkout-modal').style.display = 'block';
        }

        function processPayment() {
            const productId = parseInt(document.getElementById('checkout-modal').dataset.productId);
            const product = MOCK_PRODUCTS.find(p => p.id === productId);
            const feedback = document.getElementById('checkout-feedback');
            
            if (!CURRENT_USER || !product) {
                feedback.textContent = 'Erro na compra. Tente novamente.';
                feedback.className = 'feedback-message feedback-error';
                feedback.style.display = 'block';
                return;
            }

            // Simulação de processamento de pagamento
            CURRENT_USER.purchases.push({
                productId: product.id,
                code: product.code,
                title: `${product.description} (${product.city})`,
                date: new Date().toLocaleDateString('pt-BR'),
                fileUrl: product.fileUrl
            });
            
            // Atualiza estatísticas (simulado)
            MOCK_STATS.downloads++;
            MOCK_STATS.sales += product.price;
            updateAdminDashboard();

            feedback.textContent = `Compra de ${product.description} efetuada! Verifique em seu perfil.`;
            feedback.className = 'feedback-message feedback-success';
            feedback.style.display = 'block';
            
            // Fecha modal e atualiza perfil
            setTimeout(() => {
                closeModal('checkout-modal');
                renderUserProfile();
            }, 2000);
        }

        function trackDownload(productCode) {
            // Simulação de rastreio de download (para estatística)
            MOCK_STATS.downloads++;
            updateAdminDashboard();
            console.log(`Download rastreado: ${productCode}`);
        }

        // ==================== FUNÇÕES DE COLUNAS (Alteração 6) ====================
        function renderColumns() {
            const container = document.getElementById('columns-container');
            container.innerHTML = MOCK_COLUMNS.map(col => `
                <div class="column-card" onclick="openColumnModal(${col.id})">
                    <div>
                        <h4>${col.title}</h4>
                        <div class="column-preview">
                            ${col.content.substring(0, 150)}...
                        </div>
                    </div>
                    <div class="column-date">
                        Publicado em ${col.date}
                    </div>
                </div>
            `).join('');
        }

        function openColumnModal(columnId) {
            const column = MOCK_COLUMNS.find(c => c.id === columnId);
            if (!column) return;
            
            document.getElementById('modal-column-title').textContent = column.title;
            document.getElementById('modal-column-date').textContent = `Publicado em ${column.date}`;
            document.getElementById('modal-column-content').textContent = column.content; // textContent para injetar texto puro (previne XSS)
            
            document.getElementById('column-modal').style.display = 'block';
        }

        // ==================== FUNÇÕES DE CONTATO (Alteração 7: Manter) ====================
        function sendContactEmail(event) {
            event.preventDefault();
            const form = event.target;
            const feedback = document.getElementById('contact-feedback');
            
            // Simulação de envio
            const messageData = {
                name: form['contact-name'].value,
                email: form['contact-email'].value,
                subject: form['contact-subject'].value,
                message: form['contact-message'].value
            };
            MOCK_MESSAGES.push(messageData);
            MOCK_STATS.messages++;
            updateAdminDashboard();

            feedback.textContent = 'Mensagem enviada com sucesso! Em breve entraremos em contato.';
            feedback.className = 'feedback-message feedback-success';
            feedback.style.display = 'block';

            // Substituir a simulação abaixo por:
            // emailjs.sendForm('YOUR_SERVICE_ID', 'YOUR_TEMPLATE_ID', form)

            setTimeout(() => {
                feedback.style.display = 'none';
                form.reset();
            }, 3000);
        }

        // ==================== FUNÇÕES DE AVALIAÇÃO (Alteração 8) ====================
        function renderRatingStars() {
            const container = document.getElementById('rating-stars');
            container.innerHTML = '';
            for (let i = 1; i <= 5; i++) {
                const star = document.createElement('i');
                star.className = `fas fa-star star ${i <= selectedRating ? 'selected' : ''}`;
                star.dataset.value = i;
                star.onclick = () => selectRating(i);
                container.appendChild(star);
            }
            updateRatingLegend();
        }

        function selectRating(value) {
            if (value === selectedRating) {
                // Se clicar na estrela já selecionada, deseleciona todas
                selectedRating = 0;
            } else {
                selectedRating = value;
            }
            renderRatingStars(); // Redesenha as estrelas
        }

        function updateRatingLegend() {
            const legendEl = document.getElementById('rating-legend');
            let text = 'Clique nas estrelas para nos avaliar';
            
            if (selectedRating >= 1 && selectedRating <= 2) text = '1 a 2 Estrela - Muito ruim';
            else if (selectedRating === 3) text = '3 Estrela - Regular';
            else if (selectedRating === 4) text = '4 Estrela - Bom';
            else if (selectedRating === 5) text = '5 Estrela - Excelente';
            
            legendEl.textContent = text;
        }

        function submitReview(event) {
            event.preventDefault();
            const form = event.target;
            const feedback = document.getElementById('review-feedback');

            if (selectedRating === 0) {
                feedback.textContent = 'Por favor, selecione uma nota de 1 a 5 estrelas.';
                feedback.className = 'feedback-message feedback-error';
                feedback.style.display = 'block';
                return;
            }

            const reviewData = {
                rating: selectedRating,
                name: form['review-nome'].value,
                lastName: form['review-sobrenome'].value,
                email: form['review-email'].value,
                gender: form['review-genero'].value,
                birthDate: form['review-aniversario'].value,
                state: form['review-estado'].value,
                city: form['review-cidade'].value,
                type: form['review-tipo'].value,
                comment: form['review-comentario'].value,
                date: new Date().toISOString()
            };

            MOCK_REVIEWS.push(reviewData);
            MOCK_STATS.reviews++;
            updateAdminDashboard();

            feedback.textContent = 'Sua avaliação foi enviada com sucesso! Obrigado pelo seu feedback.';
            feedback.className = 'feedback-message feedback-success';
            feedback.style.display = 'block';
            form.reset();
            selectedRating = 0;
            renderRatingStars();

            setTimeout(() => {
                feedback.style.display = 'none';
            }, 3000);
        }

        // ==================== FUNÇÕES ADMIN (Alteração 9) ====================
        function openAdminLoginModal() {
            document.getElementById('admin-login-modal').style.display = 'block';
            document.getElementById('admin-login-feedback').style.display = 'none';
        }
        
        function adminLogin(event) {
            event.preventDefault();
            const email = document.getElementById('admin-email').value;
            const password = document.getElementById('admin-password').value;
            const feedback = document.getElementById('admin-login-feedback');
            
            const ADMIN_EMAIL = 'admin@elitetravel.com';
            const ADMIN_PASSWORD = 'admin@123';

            if (email === ADMIN_EMAIL && password === ADMIN_PASSWORD) {
                localStorage.setItem('isAdminLoggedIn', 'true');
                closeModal('admin-login-modal');
                showSection('admin');
                document.getElementById('admin-panel').style.display = 'block';
                updateAdminDashboard();
            } else {
                feedback.textContent = 'Credenciais de Admin incorretas.';
                feedback.className = 'feedback-message feedback-error';
                feedback.style.display = 'block';
            }
        }
        
        function adminLogout() {
            localStorage.removeItem('isAdminLoggedIn');
            document.getElementById('admin-panel').style.display = 'none';
            showSection('hero');
        }

        function showAdminDashboard() {
            // Garante que o painel está visível (útil após login e ao clicar no botão Dashboard)
            if (localStorage.getItem('isAdminLoggedIn') === 'true') {
                 showSection('admin');
                 document.getElementById('admin-panel').style.display = 'block';
                 updateAdminDashboard();
            } else {
                 showSection('hero');
            }
        }

        function updateAdminDashboard() {
            document.getElementById('stat-views').textContent = MOCK_STATS.views.toLocaleString('pt-BR');
            document.getElementById('stat-downloads').textContent = MOCK_STATS.downloads.toLocaleString('pt-BR');
            document.getElementById('stat-sales').textContent = `R$ ${MOCK_STATS.sales.toFixed(2).replace('.', ',')}`;
            document.getElementById('stat-reviews').textContent = MOCK_STATS.reviews;
            document.getElementById('stat-messages').textContent = MOCK_STATS.messages;
            document.getElementById('stat-profiles').textContent = MOCK_STATS.profiles;

            renderAdminLists();
            renderAdminCategorySelect();
        }

        function renderAdminLists() {
            // Lista de Categorias
            const catList = document.getElementById('existing-categories-list');
            catList.innerHTML = MOCK_CATEGORIES.map(cat => `
                <li>
                    <div class="item-info">
                        <strong>${cat.name}</strong> (${cat.status === 'enabled' ? 'Ativo' : 'EM BREVE'})
                    </div>
                    <div class="item-actions">
                        <button class="btn-small btn-outline" onclick="deleteCategory(${cat.id})">Excluir</button>
                    </div>
                </li>
            `).join('');

            // Lista de Produtos
            const prodList = document.getElementById('existing-products-list');
            prodList.innerHTML = MOCK_PRODUCTS.map(prod => {
                const category = MOCK_CATEGORIES.find(c => c.id === prod.categoryId)?.name || 'Desconhecida';
                return `
                    <li>
                        <div class="item-info">
                            <strong>${prod.code}</strong> - ${prod.city} (${category}) - R$ ${prod.price.toFixed(2).replace('.', ',')}
                        </div>
                        <div class="item-actions">
                            <button class="btn-small btn-outline" onclick="deleteProduct(${prod.id})">Excluir</button>
                        </div>
                    </li>
                `;
            }).join('');

            // Lista de Colunas
            const colList = document.getElementById('existing-columns-list');
            colList.innerHTML = MOCK_COLUMNS.map(col => `
                <li>
                    <div class="item-info">
                        <strong>${col.title}</strong> (${col.date})
                    </div>
                    <div class="item-actions">
                        <button class="btn-small btn-outline" onclick="deleteColumn(${col.id})">Excluir</button>
                    </div>
                </li>
            `).join('');
        }

        function renderAdminCategorySelect() {
            const selectEl = document.getElementById('new-product-category');
            selectEl.innerHTML = '<option value="">Selecione...</option>';
            MOCK_CATEGORIES.forEach(cat => {
                const option = document.createElement('option');
                option.value = cat.id;
                option.textContent = cat.name;
                selectEl.appendChild(option);
            });
        }

        function addCategory(event) {
            event.preventDefault();
            const form = event.target;
            const newCat = {
                id: MOCK_CATEGORIES.length > 0 ? MOCK_CATEGORIES[MOCK_CATEGORIES.length - 1].id + 1 : 1,
                name: form['new-category-name'].value,
                icon: form['new-category-icon'].value,
                price: parseFloat(form['new-category-price'].value),
                status: form['new-category-status'].value,
                description: form['new-category-description'].value
            };
            MOCK_CATEGORIES.push(newCat);
            form.reset();
            renderCategoryCards();
            updateAdminDashboard();
            alert(`Categoria "${newCat.name}" adicionada.`);
        }

        function deleteCategory(id) {
            MOCK_CATEGORIES = MOCK_CATEGORIES.filter(cat => cat.id !== id);
            renderCategoryCards();
            updateAdminDashboard();
            alert('Categoria excluída. Os produtos associados devem ser tratados via backend.');
        }

        function addProduct(event) {
            event.preventDefault();
            const form = event.target;
            const newProd = {
                id: MOCK_PRODUCTS.length > 0 ? MOCK_PRODUCTS[MOCK_PRODUCTS.length - 1].id + 1 : 101,
                code: form['new-product-code'].value,
                categoryId: parseInt(form['new-product-category'].value),
                country: form['new-product-country'].value,
                city: form['new-product-city'].value,
                price: parseFloat(form['new-product-price'].value),
                description: form['new-product-description'].value,
                fileUrl: form['new-product-file'].value
            };
            MOCK_PRODUCTS.push(newProd);
            form.reset();
            updateAdminDashboard();
            alert(`Produto "${newProd.code}" adicionado.`);
        }

        function deleteProduct(id) {
            MOCK_PRODUCTS = MOCK_PRODUCTS.filter(prod => prod.id !== id);
            updateAdminDashboard();
            alert('Produto excluído.');
        }

        function addColumn(event) {
            event.preventDefault();
            const form = event.target;
            const newCol = {
                id: MOCK_COLUMNS.length > 0 ? MOCK_COLUMNS[MOCK_COLUMNS.length - 1].id + 1 : 1,
                title: form['new-column-title'].value,
                date: form['new-column-date'].value,
                content: form['new-column-content'].value
            };
            MOCK_COLUMNS.push(newCol);
            form.reset();
            renderColumns();
            updateAdminDashboard();
            alert(`Coluna "${newCol.title}" adicionada.`);
        }

        function deleteColumn(id) {
            MOCK_COLUMNS = MOCK_COLUMNS.filter(col => col.id !== id);
            renderColumns();
            updateAdminDashboard();
            alert('Coluna excluída.');
        }

        function exportDataToExcel() {
            const dataType = document.getElementById('export-data-type').value;
            const startDate = document.getElementById('export-start-date').value;
            const endDate = document.getElementById('export-end-date').value;
            
            let data = [];
            let sheetName = "";
            
            switch (dataType) {
                case 'users':
                    sheetName = "Cadastros_Perfil";
                    data = MOCK_USERS.map(u => ({
                        'ID': u.id,
                        'Nome': u.firstName,
                        'Sobrenome': u.lastName,
                        'Email': u.email,
                        'Perfil': u.profileName,
                        'Data_Nascimento': u.birthDate,
                        'Estado': u.state,
                        'Cidade': u.city
                    }));
                    break;
                case 'reviews':
                    sheetName = "Avaliacoes_Site";
                    data = MOCK_REVIEWS.filter(r => {
                        // Simulação de filtro por data (requer que a data do mock seja ISO)
                        if (startDate && new Date(r.date) < new Date(startDate)) return false;
                        if (endDate && new Date(r.date) > new Date(endDate)) return false;
                        return true;
                    }).map(r => ({
                        'Data': r.date.split('T')[0],
                        'Nota': r.rating,
                        'Tipo': r.type,
                        'Comentario': r.comment,
                        'Email': r.email,
                        'Localizacao': `${r.city}, ${r.state}`
                    }));
                    break;
                case 'purchases':
                    sheetName = "Dados_Compra";
                    // Para simplificar, exporta todas as compras de todos os usuários
                    data = MOCK_USERS.flatMap(user => user.purchases.map(p => ({
                        'Data': p.date,
                        'Usuario_Email': user.email,
                        'Produto_Codigo': p.code,
                        'Produto_Titulo': p.title
                    })));
                    break;
                default:
                    alert('Selecione um tipo de dado para exportar.');
                    return;
            }

            if (data.length === 0) {
                alert('Nenhum dado encontrado para exportação.');
                return;
            }

            const ws = XLSX.utils.json_to_sheet(data);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, sheetName);
            
            XLSX.writeFile(wb, `${sheetName}_Export_${new Date().toLocaleDateString('pt-BR').replace(/\//g, '-')}.xlsx`);
        }


        // ==================== FUNÇÕES GLOBAIS DE MODAL ====================
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Fecha modal ao clicar fora
        window.onclick = function(event) {
            document.querySelectorAll('.modal').forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = "none";
                }
            });
        }
    </script>
</body>
</html>
