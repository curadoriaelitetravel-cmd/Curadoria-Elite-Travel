<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curadoria Elite Travel - O seu mundo, bem indicado</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        /* ==================== 0. VARI√ÅVEIS DE TEMA ==================== */
        :root {
            --gold-color: #D4AF37; /* Dourado Cl√°ssico */
            --bg-dark: #121212;
            --text-light: #f1f1f1;
            --card-dark: #1e1e1e;
            --border-dark: #333333;

            --bg-light: #ffffff;
            --text-dark: #333333;
            --card-light: #f9f9f9;
            --border-light: #dddddd;

            --primary-color: var(--gold-color);
            --secondary-color: #555555;
            --bg-color: var(--bg-dark);
            --text-color: var(--text-light);
            --card-bg: var(--card-dark);
            --border-color: var(--border-dark);
            --text-secondary: #aaaaaa;
            --box-shadow-color: rgba(0, 0, 0, 0.5);
            --btn-hover-bg: #E1C16E;
        }

        .light-theme {
            --bg-color: var(--bg-light);
            --text-color: var(--text-dark);
            --card-bg: var(--card-light);
            --border-color: var(--border-light);
            --text-secondary: #666666;
            --box-shadow-color: rgba(0, 0, 0, 0.1);
            --btn-hover-bg: #E1C16E;
        }

        /* ==================== 1. ESTILOS GERAIS ==================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Playfair Display', serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.5s, color 0.5s;
            line-height: 1.6;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }

        h1, h2, h3, h4 {
            font-family: 'Cinzel', serif;
            color: var(--primary-color);
            text-transform: uppercase;
        }

        a {
            color: var(--gold-color);
            text-decoration: none;
            transition: color 0.3s;
        }

        a:hover {
            color: var(--btn-hover-bg);
        }

        section {
            padding: 80px 0;
            display: none; /* Controlado pelo JS (SPA) */
        }

        section:first-child {
            display: block; /* A se√ß√£o de her√≥i (hero) √© a primeira a ser exibida */
        }

        /* ==================== 2. BOT√ïES ==================== */
        .btn {
            padding: 10px 20px;
            border: 2px solid var(--primary-color);
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
            font-family: 'Cinzel', serif;
            transition: all 0.3s;
            min-width: 120px;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: var(--bg-dark); /* Texto escuro no bot√£o dourado */
            border: 2px solid var(--primary-color);
        }

        .btn-primary:hover {
            background-color: var(--btn-hover-bg);
            border-color: var(--btn-hover-bg);
        }

        .btn-outline {
            background-color: transparent;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }

        .btn-outline:hover {
            background-color: var(--primary-color);
            color: var(--bg-dark);
        }

        .logout-btn {
            background-color: transparent;
            color: var(--primary-color);
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 0.9rem;
            text-decoration: underline;
        }

        /* ==================== 3. INPUTS E FORMUL√ÅRIOS ==================== */
        input[type="text"], input[type="email"], input[type="password"], input[type="number"], textarea, select {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background-color: var(--card-bg);
            color: var(--text-color);
            font-family: 'Playfair Display', serif;
        }

        textarea {
            resize: vertical;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: var(--text-secondary);
        }

        /* ==================== 4. HEADER E NAVEGA√á√ÉO ==================== */
        header {
            background-color: var(--card-bg);
            box-shadow: 0 2px 10px var(--box-shadow-color);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            flex-shrink: 0;
        }

        .logo-image {
            display: flex;
            align-items: center;
        }

        .compass-icon {
            margin-right: 15px;
        }

        .compass-rose {
            width: 30px;
            height: 30px;
            position: relative;
            border-radius: 50%;
            border: 2px solid var(--gold-color);
        }

        .compass-line {
            position: absolute;
            background-color: var(--gold-color);
            transition: background-color 0.3s;
        }

        .compass-line-h { width: 100%; height: 2px; top: 50%; left: 0; transform: translateY(-50%); }
        .compass-line-v { width: 2px; height: 100%; top: 0; left: 50%; transform: translateX(-50%); }
        .compass-line-ne { width: 2px; height: 100%; top: 0; left: 50%; transform: translateX(-50%) rotate(45deg); }
        .compass-line-nw { width: 2px; height: 100%; top: 0; left: 50%; transform: translateX(-50%) rotate(-45deg); }

        .compass-center {
            width: 6px;
            height: 6px;
            background-color: var(--bg-color);
            border: 1px solid var(--gold-color);
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .compass-direction {
            position: absolute;
            font-size: 0.6rem;
            font-family: Arial, sans-serif;
            color: var(--gold-color);
            font-weight: bold;
        }

        .compass-n { top: -5px; left: 50%; transform: translateX(-50%); }
        .compass-e { right: -5px; top: 50%; transform: translateY(-50%); }
        .compass-s { bottom: -5px; left: 50%; transform: translateX(-50%); }
        .compass-w { left: -5px; top: 50%; transform: translateY(-50%); }

        .logo-text h1 {
            font-size: 1.2rem;
            margin: 0;
            color: var(--text-color);
        }

        .logo-text span {
            display: block;
            font-size: 0.8rem;
            color: var(--gold-color);
            font-family: 'Playfair Display', serif;
        }

        nav ul {
            list-style: none;
            display: flex;
        }

        nav ul li {
            margin-left: 20px;
        }

        nav ul li a {
            color: var(--text-color);
            text-transform: uppercase;
            font-size: 0.9rem;
            font-weight: bold;
            padding: 5px;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            font-family: 'Cinzel', serif;
        }

        nav ul li a:hover {
            color: var(--gold-color);
            border-bottom: 2px solid var(--gold-color);
        }

        .auth-buttons {
            display: flex;
            gap: 10px;
        }

        .user-info {
            display: none; /* Escondido por padr√£o, mostrado ap√≥s login */
            align-items: center;
            gap: 10px;
        }

        .user-avatar {
            width: 30px;
            height: 30px;
            background-color: var(--gold-color);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.2rem;
            color: var(--bg-dark);
            font-family: 'Cinzel', serif;
            font-weight: bold;
        }

        .user-name {
            font-weight: bold;
            font-size: 1rem;
            color: var(--text-color);
        }

        /* ==================== 5. SECTION HERO ==================== */
        #hero {
            background: url('https://curadoria-elite-travel.vercel.app/hero-bg.jpg') no-repeat center center/cover;
            height: 70vh;
            display: flex;
            align-items: center;
            position: relative;
            text-align: center;
        }

        #hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
        }

        .hero-content {
            position: relative;
            z-index: 1;
            color: var(--text-light);
        }

        .hero-content h2 {
            font-size: 3rem;
            margin-bottom: 10px;
            color: var(--gold-color);
        }

        .hero-content p {
            font-size: 1.2rem;
            margin-bottom: 30px;
        }

        /* ==================== 6. MODALS (Pop-ups) ==================== */
        .modal {
            display: none;
            position: fixed;
            z-index: 200;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: var(--card-bg);
            margin: 10% auto;
            padding: 30px;
            border: 1px solid var(--primary-color);
            width: 90%;
            max-width: 450px;
            border-radius: 8px;
            box-shadow: 0 5px 15px var(--box-shadow-color);
            position: relative;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .close-btn {
            color: var(--text-secondary);
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close-btn:hover,
        .close-btn:focus {
            color: var(--primary-color);
            text-decoration: none;
            cursor: pointer;
        }

        .modal-content h3 {
            margin-bottom: 20px;
            color: var(--gold-color);
            text-align: center;
        }

        .modal-content form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .modal-content .btn {
            width: 100%;
        }

        /* ==================== 7. ADMIN PANEL ==================== */
        #admin-panel {
            background-color: var(--card-bg);
            padding: 40px;
            margin-top: 30px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            display: none; /* Mostrado apenas ap√≥s login admin */
        }

        #admin-panel h2 {
            margin-bottom: 20px;
            color: var(--gold-color);
        }

        .admin-section {
            margin-bottom: 40px;
            padding: 20px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
        }

        .admin-section h3 {
            margin-top: 0;
            border-bottom: 1px solid var(--gold-color);
            padding-bottom: 10px;
            margin-bottom: 20px;
            color: var(--text-color);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background-color: var(--bg-color);
            padding: 15px;
            border-radius: 6px;
            text-align: center;
            border-left: 4px solid var(--primary-color);
        }

        .stat-card h4 {
            font-size: 1rem;
            color: var(--text-secondary);
            margin-bottom: 5px;
        }

        .stat-card p {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-color);
        }

        .product-list {
            list-style: none;
            padding: 0;
        }

        .product-list li {
            background-color: var(--bg-color);
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 3px solid var(--secondary-color);
        }

        .product-info {
            flex-grow: 1;
        }

        .product-info strong {
            color: var(--primary-color);
        }
        
        .product-actions {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .product-price-admin {
            font-weight: bold;
            color: var(--gold-color);
            margin-right: 15px;
        }

        /* ==================== 8. OUTRAS SE√á√ïES ==================== */
        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .card {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 8px var(--box-shadow-color);
            border: 1px solid var(--border-color);
            transition: transform 0.3s, border-color 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-color);
        }

        .card h3 {
            margin-bottom: 15px;
        }

        #about-us .card p {
            color: var(--text-secondary);
        }

        /* ==================== 9. CATEGORIAS E PRODUTOS ==================== */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
        }

        .category-card {
            text-align: center;
            padding: 30px 15px;
            cursor: pointer;
            position: relative;
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            transition: transform 0.3s, border-color 0.3s, opacity 0.3s;
            overflow: hidden;
        }

        .category-card i {
            font-size: 3rem;
            color: var(--gold-color);
            margin-bottom: 15px;
        }

        .category-card h4 {
            margin: 0;
            color: var(--text-color);
        }

        .category-card:hover:not(.disabled) {
            transform: translateY(-5px);
            border-color: var(--gold-color);
        }

        /* ESTILOS PARA CATEGORIAS DESABILITADAS (ALTERA√á√ÉO 5) */
        .category-card.disabled {
            opacity: 0.7;
            cursor: not-allowed;
            position: relative;
        }

        .category-card.disabled:hover {
            transform: none;
            border-color: var(--border-color);
        }

        .category-card.disabled::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5); /* Overlay para indicar inatividade */
            border-radius: 8px;
            z-index: 2;
        }

        .coming-soon-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--gold-color);
            color: var(--bg-dark);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: bold;
            z-index: 3;
            font-family: 'Cinzel', serif;
        }

        .category-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--card-bg);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            z-index: 3;
            width: 80%;
            border: 1px solid var(--gold-color);
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
        }

        .category-message h4 {
            color: var(--gold-color);
            margin-bottom: 8px;
            font-family: 'Cinzel', serif;
        }

        .category-message p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin: 0;
        }
        /* FIM DOS ESTILOS PARA CATEGORIAS DESABILITADAS */

        #products {
            margin-top: 40px;
            display: none;
        }

        #products h2 {
            margin-bottom: 30px;
        }

        .products-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .product-card {
            background-color: var(--card-bg);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px var(--box-shadow-color);
            border: 1px solid var(--border-color);
            transition: transform 0.3s;
        }

        .product-card:hover {
            transform: translateY(-5px);
        }

        .product-image {
            height: 200px;
            background-size: cover;
            background-position: center;
            border-bottom: 1px solid var(--border-color);
        }

        .product-image-placeholder {
            height: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: var(--bg-color);
        }

        .product-image-placeholder i {
            font-size: 4rem;
            color: var(--text-secondary);
        }

        .product-content {
            padding: 20px;
        }

        .product-content h3 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--text-color);
        }

        .product-content p {
            color: var(--text-secondary);
            margin-bottom: 15px;
            font-size: 0.9rem;
        }

        .product-price {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--gold-color);
            margin-bottom: 15px;
            font-family: 'Cinzel', serif;
        }

        /* ==================== 10. NOTIFICA√á√ÉO E TEMA ==================== */
        #notification-box {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 4px;
            color: var(--bg-dark);
            font-weight: bold;
            z-index: 300;
            display: none;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            font-family: 'Cinzel', serif;
        }

        .notification-success {
            background-color: #28a745;
        }

        .notification-error {
            background-color: #dc3545;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background-color: var(--card-bg);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 2px 5px var(--box-shadow-color);
            z-index: 101;
            border: 1px solid var(--border-color);
        }

        .theme-toggle i {
            color: var(--gold-color);
            font-size: 1.2rem;
        }

        /* ==================== 11. FOOTER ==================== */
        footer {
            background-color: var(--card-bg);
            color: var(--text-secondary);
            padding: 30px 0;
            border-top: 1px solid var(--border-color);
            text-align: center;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .social-links a {
            font-size: 1.5rem;
            margin-left: 15px;
        }

        /* ==================== 12. RESPONSIVIDADE ==================== */
        @media (max-width: 900px) {
            nav {
                display: none;
            }
            .header-content {
                justify-content: center;
            }
            .auth-buttons {
                position: absolute;
                right: 70px;
            }
            .user-info {
                position: absolute;
                right: 70px;
            }
        }

        @media (max-width: 600px) {
            .logo-text h1 {
                font-size: 1rem;
            }
            .logo-text span {
                font-size: 0.7rem;
            }
            .auth-buttons, .user-info {
                right: 10px;
                top: 70px;
                flex-direction: column;
                gap: 5px;
            }
            .hero-content h2 {
                font-size: 2rem;
            }
            .hero-content p {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body class="dark-theme">
    <div class="theme-toggle" onclick="toggleTheme()">
        <i class="fas fa-moon" id="theme-icon"></i>
    </div>

    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-image">
                        <div class="compass-icon">
                            <div class="compass-rose">
                                <div class="compass-line compass-line-h"></div>
                                <div class="compass-line compass-line-v"></div>
                                <div class="compass-line compass-line-ne"></div>
                                <div class="compass-line compass-line-nw"></div>
                                <div class="compass-center"></div>
                                <div class="compass-direction compass-n">N</div>
                                <div class="compass-direction compass-e">E</div>
                                <div class="compass-direction compass-s">S</div>
                                <div class="compass-direction compass-w">W</div>
                            </div>
                        </div>
                        <div class="logo-text">
                            <h1>CURADORIA ELITE TRAVEL</h1>
                            <span>+ O seu mundo, bem indicado</span>
                        </div>
                    </div>
                </div>
                
                <nav>
                    <ul>
                        <li><a onclick="showSection('hero')">In√≠cio</a></li>
                        <li><a onclick="showSection('about-us')">Quem Somos</a></li>
                        <li><a onclick="showSection('categories')">Categorias</a></li>
                        <li><a onclick="showSection('daily-columns')">Colunas Di√°rias</a></li>
                        <li><a onclick="showSection('contact-form')">Contato</a></li>
                    </ul>
                </nav>
                
                <div class="auth-buttons" id="auth-buttons">
                    <button class="btn btn-outline" onclick="showAdminLoginModal()">Admin</button>
                    <button class="btn btn-outline" id="login-btn" onclick="showLoginModal()">Login</button>
                    <button class="btn btn-primary" id="register-btn" onclick="showRegisterModal()">Cadastre-se</button>
                </div>
                
                <div class="user-info" id="user-info">
                    <div class="user-avatar" id="user-avatar">U</div>
                    <div class="user-name" id="user-name">Usu√°rio</div>
                    <button class="logout-btn" onclick="logoutUser()">Sair</button>
                </div>
            </div>
        </div>
    </header>

    <div id="notification-box"></div>

    <section id="hero" class="active-section">
        <div class="container">
            <div class="hero-content">
                <h2>O Seu Mundo, Bem Indicado.</h2>
                <p>Curadoria exclusiva de destinos, restaurantes, hot√©is e mais, para a nova elite.</p>
                <button class="btn btn-primary" onclick="showSection('categories')">Descubra Nossas Curadorias</button>
            </div>
        </div>
    </section>

    <section id="about-us">
        <div class="container">
            <h2>Sobre a Curadoria Elite Travel</h2>
            <div class="grid-3">
                <div class="card">
                    <h3>Vis√£o</h3>
                    <p>Ser o principal guia digital para a elite ascendente que busca experi√™ncias aut√™nticas, de 3 a 4 estrelas, com curadoria de alto n√≠vel, sem o excesso do luxo.</p>
                </div>
                <div class="card">
                    <h3>Nossa Miss√£o</h3>
                    <p>Oferecer materiais digitais de pesquisa de alta qualidade, indicando o melhor em destinos, gastronomia, compras e passeios, focando na excel√™ncia e no custo-benef√≠cio refinado.</p>
                </div>
                <div class="card">
                    <h3>O Nicho</h3>
                    <p>Focamos em experi√™ncias de 3 a 4 estrelas. N√£o √© luxo ostensivo, √© **elite ascendente**: qualidade superior, intelig√™ncia na escolha e curadoria impec√°vel.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="categories">
        <div class="container">
            <h2>Nossas Curadorias em PDF</h2>
            <p style="text-align: center; margin-bottom: 40px; color: var(--text-secondary);">Escolha a categoria que mais te interessa e encontre o material perfeito.</p>

            <div class="categories-grid">
                <div class="category-card" onclick="showProducts('restaurantes')">
                    <i class="fas fa-utensils"></i>
                    <h4>Restaurantes</h4>
                </div>
                <div class="category-card" onclick="showProducts('bares')">
                    <i class="fas fa-cocktail"></i>
                    <h4>Bares & Caf√©s</h4>
                </div>
                <div class="category-card" onclick="showProducts('city-guides')">
                    <i class="fas fa-city"></i>
                    <h4>City Guides</h4>
                </div>
                <div class="category-card" onclick="showProducts('pontos-turisticos')">
                    <i class="fas fa-camera-retro"></i>
                    <h4>Pontos Tur√≠sticos</h4>
                </div>
                <div class="category-card" onclick="showProducts('passeios')">
                    <i class="fas fa-mountain"></i>
                    <h4>Passeios Exclusivos</h4>
                </div>
                <div class="category-card" onclick="showProducts('vida-noturna')">
                    <i class="fas fa-moon"></i>
                    <h4>Vida Noturna</h4>
                </div>
                <div class="category-card" onclick="showProducts('compras')">
                    <i class="fas fa-shopping-bag"></i>
                    <h4>Locais de Compras</h4>
                </div>
                <div class="category-card" onclick="showProducts('presentes')">
                    <i class="fas fa-gifts"></i>
                    <h4>Presentes & Flores</h4>
                </div>
                <div class="category-card" onclick="showProducts('hoteis')">
                    <i class="fas fa-hotel"></i>
                    <h4>Hot√©is & Hospedagem</h4>
                </div>
                <div class="category-card" onclick="showProducts('cruzeiros')">
                    <i class="fas fa-ship"></i>
                    <h4>Cruzeiros</h4>
                </div>
            </div>

            <div id="products">
                <h2 id="product-category-title" style="margin-top: 50px;">Produtos</h2>
                <div class="products-container" id="products-container">
                    </div>
            </div>
        </div>
    </section>

    <section id="daily-columns">
        <div class="container" style="text-align: center;">
            <h2>Colunas Di√°rias de Insight</h2>
            <p style="color: var(--text-secondary); max-width: 600px; margin: 0 auto 40px;">Em breve, an√°lises e artigos aprofundados sobre tend√™ncias de viagem, investimento e estilo de vida para a elite que pensa.</p>
            <div class="grid-3">
                <div class="card">
                    <i class="fas fa-chart-line" style="font-size: 2rem; color: var(--gold-color);"></i>
                    <h3>An√°lise de Mercado</h3>
                    <p>Insights econ√¥micos e tend√™ncias de consumo.</p>
                </div>
                <div class="card">
                    <i class="fas fa-pencil-ruler" style="font-size: 2rem; color: var(--gold-color);"></i>
                    <h3>Estilo de Vida</h3>
                    <p>Curadoria de moda, design e bem-estar.</p>
                </div>
                <div class="card">
                    <i class="fas fa-route" style="font-size: 2rem; color: var(--gold-color);"></i>
                    <h3>Viagens Sustent√°veis</h3>
                    <p>O melhor do turismo consciente e exclusivo.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="contact-form">
        <div class="container">
            <h2>Entre em Contato Conosco</h2>
            <div class="card" style="max-width: 600px; margin: 0 auto;">
                <p style="text-align: center; color: var(--text-secondary); margin-bottom: 20px;">Sua d√∫vida ou sugest√£o √© muito importante. Use o formul√°rio abaixo.</p>
                <form id="contact-form-data">
                    <input type="text" name="name" placeholder="Seu Nome Completo" required>
                    <input type="email" name="email" placeholder="Seu Melhor Email" required>
                    <input type="text" name="subject" placeholder="Assunto (Ex: D√∫vida sobre City Guide de Paris)" required>
                    <div class="form-group">
                        <label for="contact-brief">Mensagem (m√°x. 300 caracteres)</label>
                        <textarea id="contact-brief" name="message" rows="4" maxlength="300" required></textarea>
                        <small id="char-count" style="display: block; text-align: right; color: var(--text-secondary);">0/300 caracteres</small>
                    </div>
                    <button type="submit" class="btn btn-primary" id="send-contact-btn">Enviar Mensagem</button>
                </form>
            </div>
        </div>
    </section>

    <section id="admin-panel" style="display: none;">
        <div class="container">
            <h2>üëë Painel Administrativo</h2>
            
            <div class="admin-section">
                <h3>Estat√≠sticas R√°pidas</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>Visualiza√ß√µes</h4>
                        <p id="stat-views">0</p>
                    </div>
                    <div class="stat-card">
                        <h4>Downloads</h4>
                        <p id="stat-downloads">0</p>
                    </div>
                    <div class="stat-card">
                        <h4>Valor Total (R$)</h4>
                        <p id="stat-value">R$ 0,00</p>
                    </div>
                    <div class="stat-card">
                        <h4>Mensagens</h4>
                        <p id="stat-messages">0</p>
                    </div>
                </div>
            </div>

            <div class="admin-section">
                <h3>Cadastrar Novo Material (PDF)</h3>
                <form id="add-product-form">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <input type="text" id="product-code" placeholder="C√≥digo do Produto (Ex: SP-RES-001)" required>
                        <select id="product-category" required>
                            </select>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <input type="text" id="product-country" placeholder="Pa√≠s (Ex: Brasil)" required>
                        <input type="text" id="product-city" placeholder="Cidade (Ex: S√£o Paulo)" required>
                    </div>
                    <input type="number" id="product-price" placeholder="Pre√ßo em Reais (Ex: 95.00)" step="0.01" required>
                    <input type="text" id="product-name" placeholder="Nome do Guia (Opcional, Ex: 10 Melhores de SP)">
                    <textarea id="product-description" placeholder="Descri√ß√£o Curta (Opcional)"></textarea>
                    <input type="text" id="product-image" placeholder="Link da Imagem de Capa (Opcional)">
                    <button type="button" class="btn btn-primary" onclick="addProduct()">Adicionar Material</button>
                </form>
            </div>
            
            <div class="admin-section">
                <h3>Materiais Cadastrados</h3>
                <ul class="product-list" id="admin-product-list">
                    </ul>
            </div>
        </div>
    </section>

    <div id="checkout-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h3>Finalizar Compra</h3>
            <h4 id="checkout-product-name" style="color: var(--text-color); margin-bottom: 10px; text-align: center;">Nome do Produto</h4>
            <p id="checkout-product-price" style="color: var(--gold-color); font-size: 1.5rem; text-align: center; margin-bottom: 20px;">R$ 0,00</p>
            <form>
                <input type="text" placeholder="Nome Completo" required>
                <input type="email" placeholder="Email para Receber o PDF" required>
                <select required>
                    <option value="">Forma de Pagamento</option>
                    <option value="pix">Pix</option>
                    <option value="cartao">Cart√£o de Cr√©dito</option>
                </select>
                <button type="submit" class="btn btn-primary" onclick="processCheckout(event)">Pagar e Baixar</button>
            </form>
        </div>
    </div>

    <div id="download-modal" class="modal">
        <div class="modal-content" style="text-align: center;">
            <span class="close-btn" onclick="closeDownloadModal()">&times;</span>
            <h3>Download Confirmado!</h3>
            <i class="fas fa-check-circle" style="font-size: 3rem; color: #28a745; margin: 20px 0;"></i>
            <p style="color: var(--text-secondary); margin-bottom: 20px;">Seu material foi enviado para o seu email e voc√™ pode baix√°-lo agora.</p>
            <button class="btn btn-primary" onclick="initiateDownload()">Baixar Material</button>
        </div>
    </div>

    <div id="admin-login-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeAdminLoginModal()">&times;</span>
            <h3>Acesso Administrativo</h3>
            <p id="admin-login-error" style="color: #dc3545; text-align: center; margin-bottom: 10px; display: none;">Credenciais inv√°lidas.</p>
            <form id="admin-login-form">
                <input type="email" id="admin-email" placeholder="Email do Administrador" required>
                <input type="password" id="admin-password" placeholder="Senha" required>
                <button type="button" class="btn btn-primary" onclick="authenticateAdmin(event)">Entrar</button>
            </form>
        </div>
    </div>

    <div id="register-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeRegisterModal()">&times;</span>
            <h3>Crie Sua Conta Elite Travel</h3>
            <p id="register-error" style="color: #dc3545; text-align: center; margin-bottom: 10px; display: none;"></p>
            <form id="register-form">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <input type="text" id="reg-name" placeholder="Nome" required>
                    <input type="text" id="reg-surname" placeholder="Sobrenome" required>
                </div>
                <input type="email" id="reg-email" placeholder="Email" required>
                <input type="password" id="reg-password" placeholder="Senha" required>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <select id="reg-gender" required>
                        <option value="">G√™nero</option>
                        <option value="feminino">Feminino</option>
                        <option value="masculino">Masculino</option>
                        <option value="outro">Outro</option>
                        <option value="nao-informar">N√£o Informar</option>
                    </select>
                    <input type="date" id="reg-dob" placeholder="Data de Nascimento" required>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <input type="text" id="reg-state" placeholder="Estado (Ex: SP)" required>
                    <input type="text" id="reg-city" placeholder="Cidade (Ex: S√£o Paulo)" required>
                </div>
                <button type="button" class="btn btn-primary" onclick="registerUser(event)">Cadastrar</button>
            </form>
        </div>
    </div>

    <div id="login-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeLoginModal()">&times;</span>
            <h3>Login de Usu√°rio</h3>
            <p id="login-error" style="color: #dc3545; text-align: center; margin-bottom: 10px; display: none;">Email ou senha incorretos.</p>
            <form id="login-form">
                <input type="email" id="login-email" placeholder="Email" required>
                <input type="password" id="login-password" placeholder="Senha" required>
                <button type="button" class="btn btn-primary" onclick="loginUser(event)">Entrar</button>
            </form>
            <p style="text-align: center; margin-top: 15px; font-size: 0.9rem; color: var(--text-secondary);">
                N√£o tem conta? <a onclick="closeLoginModal(); showRegisterModal();" style="cursor: pointer;">Cadastre-se aqui</a>
            </p>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2025 Curadoria Elite Travel. Todos os direitos reservados.</p>
                <div class="social-links">
                    <a href="#" target="_blank"><i class="fab fa-instagram"></i></a>
                    <a href="#" target="_blank"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" target="_blank"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // ========== CONFIGURA√á√ÉO INICIAL ==========
        let pageViews = localStorage.getItem('pageViews') ? parseInt(localStorage.getItem('pageViews')) : 0;
        let downloadsCount = localStorage.getItem('downloadsCount') ? parseInt(localStorage.getItem('downloadsCount')) : 0;
        let totalValue = localStorage.getItem('totalValue') ? parseFloat(localStorage.getItem('totalValue')) : 0;
        let messagesCount = localStorage.getItem('messagesCount') ? parseInt(localStorage.getItem('messagesCount')) : 0;
        
        // Credenciais de administrador
        const ADMIN_CREDENTIALS = {
            email: "admin@elitetravel.com",
            password: "admin123"
        };
        
        // Estado de autentica√ß√£o (Altera√ß√£o 1)
        let isAdminAuthenticated = localStorage.getItem('isAdminAuthenticated') === 'true';
        
        // Estado de usu√°rio logado (Altera√ß√£o 3)
        let currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;
        let registeredUsers = JSON.parse(localStorage.getItem('registeredUsers')) || [];
        
        // Produtos cadastrados (Altera√ß√£o 4/5)
        let productsData = JSON.parse(localStorage.getItem('adminProducts')) || [];

        // Mapeamento de T√≠tulos e √çcones para melhor UX
        const categoryTitles = {
            'restaurantes': 'Nossos Melhores Restaurantes',
            'bares': 'Bares & Caf√©s Exclusivos',
            'city-guides': 'Guias Detalhados de Cidades',
            'pontos-turisticos': 'Pontos Tur√≠sticos Selecionados',
            'passeios': 'Sugest√µes de Passeios',
            'vida-noturna': 'Dicas de Vida Noturna',
            'compras': 'Melhores Locais para Compras',
            'presentes': 'Onde Comprar Presentes e Flores',
            'hoteis': 'Hot√©is 3 e 4 Estrelas',
            'cruzeiros': 'Curadoria de Cruzeiros'
        };

        const categoryIcons = {
            'restaurantes': 'fas fa-utensils',
            'bares': 'fas fa-cocktail',
            'city-guides': 'fas fa-city',
            'pontos-turisticos': 'fas fa-camera-retro',
            'passeios': 'fas fa-mountain',
            'vida-noturna': 'fas fa-moon',
            'compras': 'fas fa-shopping-bag',
            'presentes': 'fas fa-gifts',
            'hoteis': 'fas fa-hotel',
            'cruzeiros': 'fas fa-ship'
        };


        // ========== FUN√á√ïES GERAIS DE UI ==========

        function showNotification(message, type) {
            const box = document.getElementById('notification-box');
            box.textContent = message;
            box.className = ''; // Limpa classes anteriores
            box.classList.add(type === 'success' ? 'notification-success' : 'notification-error');
            box.style.display = 'block';

            setTimeout(() => {
                box.style.display = 'none';
            }, 3000);
        }

        function toggleTheme() {
            const body = document.body;
            const icon = document.getElementById('theme-icon');

            if (body.classList.contains('dark-theme')) {
                body.classList.remove('dark-theme');
                body.classList.add('light-theme');
                icon.className = 'fas fa-sun';
                localStorage.setItem('theme', 'light');
            } else {
                body.classList.remove('light-theme');
                body.classList.add('dark-theme');
                icon.className = 'fas fa-moon';
                localStorage.setItem('theme', 'dark');
            }
        }

        function initializeTheme() {
            const savedTheme = localStorage.getItem('theme') || 'dark';
            const body = document.body;
            const icon = document.getElementById('theme-icon');

            body.classList.remove('dark-theme', 'light-theme');
            body.classList.add(savedTheme + '-theme');

            if (savedTheme === 'light') {
                icon.className = 'fas fa-sun';
            } else {
                icon.className = 'fas fa-moon';
            }
        }

        function showSection(id) {
            document.querySelectorAll('section').forEach(section => {
                section.style.display = 'none';
            });
            document.getElementById(id).style.display = 'block';
            
            // Se for o painel admin, carregar os dados
            if (id === 'admin-panel') {
                loadProducts();
                updateStats();
            }
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // ========== FUN√á√ïES DE CATEGORIAS E PRODUTOS (Altera√ß√£o 5) ==========

        function hasProductsInCategory(category) {
            return productsData.some(product => product.category === category);
        }

        function updateCategoriesDisplay() {
            const categoriesGrid = document.querySelector('.categories-grid');
            if (!categoriesGrid) return;
            
            const categoryCards = categoriesGrid.querySelectorAll('.category-card');
            
            categoryCards.forEach(card => {
                const category = card.getAttribute('data-category');
                const hasProducts = hasProductsInCategory(category);

                // Limpar estados anteriores
                card.classList.remove('disabled');
                card.onclick = function() { showProducts(category); };
                card.querySelectorAll('.coming-soon-badge, .category-message').forEach(el => el.remove());
                
                if (category && !hasProducts) {
                    // Adicionar classe disabled e mensagem/badge
                    card.classList.add('disabled');
                    card.onclick = null; // Desabilitar clique

                    // Adicionar badge "Em Breve"
                    const badge = document.createElement('div');
                    badge.className = 'coming-soon-badge';
                    badge.textContent = 'EM BREVE';
                    card.appendChild(badge);
                    
                    // Adicionar mensagem
                    const message = document.createElement('div');
                    message.className = 'category-message';
                    message.innerHTML = `
                        <h4>Em Desenvolvimento</h4>
                        <p>Estamos trabalhando nessa categoria!</p>
                    `;
                    card.appendChild(message);

                } else if (category) {
                    // Categoria ativa: remover elementos desabilitados se existirem
                    card.classList.remove('disabled');
                    card.onclick = function() { showProducts(category); };
                }
            });
        }
        
        function showProducts(category) {
            // Verificar se a categoria tem produtos (fun√ß√£o redundante, mas √© uma boa pr√°tica)
            if (!hasProductsInCategory(category)) {
                showNotification('Esta categoria ainda est√° em desenvolvimento. Em breve teremos novidades!', 'success');
                return;
            }
            
            showSection('categories'); // Mudar para a se√ß√£o de categorias
            document.getElementById('products').style.display = 'block';
            document.getElementById('product-category-title').textContent = categoryTitles[category] || 'Produtos';
            
            const productsContainer = document.getElementById('products-container');
            productsContainer.innerHTML = '';
            
            // Buscar produtos da categoria selecionada
            const categoryProducts = productsData.filter(product => product.category === category);
            
            if (categoryProducts.length === 0) {
                productsContainer.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 40px;">
                        <i class="fas fa-box-open" style="font-size: 3rem; color: var(--text-secondary); margin-bottom: 20px;"></i>
                        <h3 style="color: var(--text-secondary);">Nenhum produto cadastrado nesta categoria</h3>
                        <p style="color: var(--text-secondary);">Entre em contato conosco para mais informa√ß√µes.</p>
                    </div>
                `;
                return;
            }
            
            categoryProducts.forEach(product => {
                const productHTML = `
                    <div class="product-card">
                        ${product.image ? 
                            `<div class="product-image" style="background-image: url('${product.image}');"></div>` :
                            `<div class="product-image-placeholder">
                                <i class="${categoryIcons[product.category] || 'fas fa-map'}"></i>
                            </div>`
                        }
                        <div class="product-content">
                            <h3>${product.name || `${product.city}, ${product.country}`}</h3>
                            <p>${product.description || `Guia completo de ${product.city}, ${product.country}`}</p>
                            <div class="product-price">R$ ${parseFloat(product.price).toFixed(2).replace('.', ',')}</div>
                            <button class="btn btn-primary" onclick="openCheckoutModal('${product.name || `${product.city}, ${product.country}`}', ${parseFloat(product.price)})">
                                Comprar Agora
                            </button>
                        </div>
                    </div>
                `;
                productsContainer.innerHTML += productHTML;
            });
            
            // Rola at√© a se√ß√£o de produtos
            document.getElementById('products').scrollIntoView({ behavior: 'smooth' });
        }

        function initializeCategories() {
            const categoriesGrid = document.querySelector('.categories-grid');
            if (!categoriesGrid) return;
            
            const categoryCards = categoriesGrid.querySelectorAll('.category-card');
            const categoryMapping = {
                0: 'restaurantes', 1: 'bares', 2: 'city-guides', 3: 'pontos-turisticos', 
                4: 'passeios', 5: 'vida-noturna', 6: 'compras', 7: 'presentes', 
                8: 'hoteis', 9: 'cruzeiros'
            };
            
            // Adicionar data-attributes e eventos de clique inicial
            categoryCards.forEach((card, index) => {
                const category = categoryMapping[index];
                if (category) {
                    card.setAttribute('data-category', category);
                    card.onclick = function() { showProducts(category); };
                }
            });
            
            // Atualizar o display para desabilitar/habilitar categorias
            updateCategoriesDisplay();
        }

        
        // ========== FUN√á√ïES DO PAINEL ADMIN (Altera√ß√µes 1 e 4) ==========

        function showAdminLoginModal() {
            document.getElementById('admin-login-modal').style.display = 'block';
            document.getElementById('admin-login-error').style.display = 'none';
        }

        function closeAdminLoginModal() {
            document.getElementById('admin-login-modal').style.display = 'none';
        }
        
        function authenticateAdmin(event) {
            event.preventDefault();
            const email = document.getElementById('admin-email').value;
            const password = document.getElementById('admin-password').value;
            const errorElement = document.getElementById('admin-login-error');

            if (email === ADMIN_CREDENTIALS.email && password === ADMIN_CREDENTIALS.password) {
                isAdminAuthenticated = true;
                localStorage.setItem('isAdminAuthenticated', 'true');
                closeAdminLoginModal();
                showSection('admin-panel');
                loadProducts();
                updateStats();
                showNotification('Login Admin bem-sucedido!', 'success');
            } else {
                errorElement.textContent = 'Credenciais inv√°lidas. Tente novamente.';
                errorElement.style.display = 'block';
            }
        }
        
        function adminLogout() {
            isAdminAuthenticated = false;
            localStorage.removeItem('isAdminAuthenticated');
            showSection('hero');
            showNotification('Admin deslogado.', 'success');
        }

        function loadProducts() {
            // Verifica autentica√ß√£o para acesso ao painel
            if (!isAdminAuthenticated) return;

            const products = JSON.parse(localStorage.getItem('adminProducts')) || [];
            const list = document.getElementById('admin-product-list');
            list.innerHTML = '';

            if (products.length === 0) {
                list.innerHTML = `<li style="justify-content: center; color: var(--text-secondary);">Nenhum material cadastrado ainda.</li>`;
                return;
            }

            products.forEach((product, index) => {
                const li = document.createElement('li');
                const priceFormatted = parseFloat(product.price).toFixed(2).replace('.', ','); // Altera√ß√£o 4
                
                li.innerHTML = `
                    <div class="product-info">
                        <strong>${product.name || `${product.city}, ${product.country}`}</strong> (${product.category})
                        <p style="font-size: 0.8rem; color: var(--text-secondary); margin-top: 5px;">C√≥digo: ${product.code}</p>
                    </div>
                    <div class="product-actions">
                        <span class="product-price-admin">R$ ${priceFormatted}</span> <button class="btn btn-primary" style="min-width: 50px; padding: 5px 10px;" onclick="deleteProduct(${index})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                list.appendChild(li);
            });
        }

        function addProduct() {
            // Verifica autentica√ß√£o (Altera√ß√£o 1)
            if (!isAdminAuthenticated) {
                showNotification('Acesso n√£o autorizado. Fa√ßa login como administrador.', 'error');
                return;
            }
            
            const code = document.getElementById('product-code').value;
            const category = document.getElementById('product-category').value;
            const country = document.getElementById('product-country').value;
            const city = document.getElementById('product-city').value;
            const price = document.getElementById('product-price').value;
            const name = document.getElementById('product-name').value;
            const description = document.getElementById('product-description').value;
            const image = document.getElementById('product-image').value;
            
            if (!code || !category || !country || !city || !price) {
                showNotification('Por favor, preencha todos os campos obrigat√≥rios: C√≥digo, Categoria, Pa√≠s, Cidade e Pre√ßo.', 'error');
                return;
            }

            // Garante que o pre√ßo √© um n√∫mero e est√° formatado
            const priceValue = parseFloat(price);
            if (isNaN(priceValue) || priceValue <= 0) {
                 showNotification('Pre√ßo inv√°lido.', 'error');
                 return;
            }
            
            const products = JSON.parse(localStorage.getItem('adminProducts')) || [];
            products.push({ 
                code, 
                category, 
                country, 
                city, 
                price: priceValue.toFixed(2), // Salvar com duas casas decimais
                name: name || `${city}, ${country}`,
                description: description || `Guia completo de ${city}, ${country}`,
                image: image || ''
            });
            localStorage.setItem('adminProducts', JSON.stringify(products));
            
            // Atualizar produtos na mem√≥ria
            productsData = products;

            // Atualizar o valor total no estat√≠sticas
            totalValue = products.reduce((sum, p) => sum + parseFloat(p.price), 0);
            localStorage.setItem('totalValue', totalValue.toFixed(2));
            
            // Atualizar exibi√ß√£o das categorias e produtos
            updateCategoriesDisplay();
            
            showNotification('Produto adicionado com sucesso!', 'success');
            clearProductForm();
            loadProducts();
            updateStats();
        }

        function clearProductForm() {
            document.getElementById('product-code').value = '';
            document.getElementById('product-country').value = '';
            document.getElementById('product-city').value = '';
            document.getElementById('product-price').value = '';
            document.getElementById('product-name').value = '';
            document.getElementById('product-description').value = '';
            document.getElementById('product-image').value = '';
            document.getElementById('product-category').selectedIndex = 0;
        }

        function deleteProduct(index) {
            // Verifica autentica√ß√£o (Altera√ß√£o 1)
            if (!isAdminAuthenticated) {
                showNotification('Acesso n√£o autorizado. Fa√ßa login como administrador.', 'error');
                return;
            }
            
            const products = JSON.parse(localStorage.getItem('adminProducts')) || [];
            
            // Recalcula o valor total subtraindo o pre√ßo do produto exclu√≠do
            const deletedPrice = parseFloat(products[index].price);
            totalValue -= deletedPrice;
            localStorage.setItem('totalValue', totalValue.toFixed(2));

            products.splice(index, 1);
            localStorage.setItem('adminProducts', JSON.stringify(products));
            
            // Atualizar produtos na mem√≥ria
            productsData = products;
            
            // Atualizar exibi√ß√£o das categorias e produtos
            updateCategoriesDisplay();
            
            loadProducts();
            updateStats();
            showNotification('Produto exclu√≠do com sucesso!', 'success');
        }

        function updateStats() {
            document.getElementById('stat-views').textContent = pageViews.toLocaleString('pt-BR');
            document.getElementById('stat-downloads').textContent = downloadsCount.toLocaleString('pt-BR');
            document.getElementById('stat-value').textContent = `R$ ${totalValue.toFixed(2).replace('.', ',')}`;
            document.getElementById('stat-messages').textContent = messagesCount.toLocaleString('pt-BR');
        }

        // ========== FUN√á√ïES DE AUTENTICA√á√ÉO DE USU√ÅRIO (Altera√ß√£o 3) ==========

        function showRegisterModal() {
            document.getElementById('register-modal').style.display = 'block';
            document.getElementById('register-error').style.display = 'none';
        }

        function closeRegisterModal() {
            document.getElementById('register-modal').style.display = 'none';
        }
        
        function showLoginModal() {
            document.getElementById('login-modal').style.display = 'block';
            document.getElementById('login-error').style.display = 'none';
        }

        function closeLoginModal() {
            document.getElementById('login-modal').style.display = 'none';
        }

        function registerUser(event) {
            event.preventDefault();
            const name = document.getElementById('reg-name').value;
            const surname = document.getElementById('reg-surname').value;
            const email = document.getElementById('reg-email').value;
            const password = document.getElementById('reg-password').value;
            const gender = document.getElementById('reg-gender').value;
            const dob = document.getElementById('reg-dob').value;
            const state = document.getElementById('reg-state').value;
            const city = document.getElementById('reg-city').value;
            const errorElement = document.getElementById('register-error');

            if (registeredUsers.some(user => user.email === email)) {
                errorElement.textContent = 'Este email j√° est√° cadastrado.';
                errorElement.style.display = 'block';
                return;
            }

            const newUser = { name, surname, email, password, gender, dob, state, city };
            registeredUsers.push(newUser);
            localStorage.setItem('registeredUsers', JSON.stringify(registeredUsers));

            // Logar o usu√°rio automaticamente ap√≥s o cadastro
            currentUser = newUser;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            closeRegisterModal();
            updateUserInterface();
            showNotification(`Bem-vindo, ${name}! Seu cadastro foi conclu√≠do.`, 'success');
        }

        function loginUser(event) {
            event.preventDefault();
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            const errorElement = document.getElementById('login-error');

            const user = registeredUsers.find(u => u.email === email && u.password === password);

            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                closeLoginModal();
                updateUserInterface();
                showNotification(`Bem-vindo(a) de volta, ${user.name}!`, 'success');
            } else {
                errorElement.textContent = 'Email ou senha incorretos.';
                errorElement.style.display = 'block';
            }
        }

        function logoutUser() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateUserInterface();
            showNotification('Voc√™ saiu da sua conta.', 'success');
        }

        function updateUserInterface() {
            const authButtons = document.getElementById('auth-buttons');
            const userInfo = document.getElementById('user-info');
            const registerBtn = document.getElementById('register-btn');
            
            if (currentUser) {
                // Usu√°rio logado
                authButtons.style.display = 'none';
                userInfo.style.display = 'flex';
                document.getElementById('user-name').textContent = currentUser.name;
                document.getElementById('user-avatar').textContent = currentUser.name.charAt(0).toUpperCase();
            } else {
                // Usu√°rio deslogado
                authButtons.style.display = 'flex';
                userInfo.style.display = 'none';

                // Mostrar Cadastre-se/Login
                registerBtn.style.display = 'block'; 
            }
        }

        // ========== FUN√á√ïES DE COMPRA ==========

        let currentCheckoutProduct = { name: '', price: 0 };

        function openCheckoutModal(name, price) {
            if (!currentUser) {
                showNotification('Fa√ßa login ou cadastre-se para comprar o material.', 'error');
                showLoginModal();
                return;
            }
            currentCheckoutProduct = { name, price };
            document.getElementById('checkout-product-name').textContent = name;
            document.getElementById('checkout-product-price').textContent = `R$ ${price.toFixed(2).replace('.', ',')}`;
            document.getElementById('checkout-modal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('checkout-modal').style.display = 'none';
        }

        function processCheckout(event) {
            event.preventDefault();
            // Simula√ß√£o de processamento de pagamento
            closeModal();
            showNotification(`Compra de ${currentCheckoutProduct.name} processada.`, 'success');
            
            downloadsCount++;
            localStorage.setItem('downloadsCount', downloadsCount);
            
            // Simular Download
            openDownloadModal();
            updateStats();
        }

        function openDownloadModal() {
            document.getElementById('download-modal').style.display = 'block';
        }

        function closeDownloadModal() {
            document.getElementById('download-modal').style.display = 'none';
        }

        function initiateDownload() {
            // Simula√ß√£o de download
            showNotification('Download do PDF iniciado...', 'success');
            closeDownloadModal();
        }

        // ========== FUN√á√ÉO DE CONTATO (EMAILJS) ==========
        // (A serviceID, templateID e publicKey devem ser configuradas pelo usu√°rio)
        const EMAIL_SERVICE_ID = "YOUR_SERVICE_ID"; 
        const EMAIL_TEMPLATE_ID = "YOUR_TEMPLATE_ID";
        const EMAIL_PUBLIC_KEY = "YOUR_PUBLIC_KEY";

        document.getElementById('contact-form-data').addEventListener('submit', function(event) {
            event.preventDefault();
            
            const btn = document.getElementById('send-contact-btn');
            btn.textContent = 'Enviando...';
            btn.disabled = true;

            emailjs.sendForm(EMAIL_SERVICE_ID, EMAIL_TEMPLATE_ID, this, EMAIL_PUBLIC_KEY)
                .then(function() {
                    showNotification('Mensagem enviada com sucesso! Em breve entraremos em contato.', 'success');
                    document.getElementById('contact-form-data').reset();
                    
                    messagesCount++;
                    localStorage.setItem('messagesCount', messagesCount);
                    updateStats();
                }, function(error) {
                    showNotification('Falha ao enviar a mensagem. Por favor, tente novamente mais tarde.', 'error');
                })
                .finally(() => {
                    btn.textContent = 'Enviar Mensagem';
                    btn.disabled = false;
                });
        });

        // ========== INICIALIZA√á√ÉO DA APLICA√á√ÉO ==========
        document.addEventListener('DOMContentLoaded', function() {
            initializeTheme();
            
            // Atualizar interface do usu√°rio
            updateUserInterface();
            
            // Carregar produtos do localStorage
            productsData = JSON.parse(localStorage.getItem('adminProducts')) || [];
            totalValue = productsData.reduce((sum, p) => sum + parseFloat(p.price), 0);
            
            // Inicializar categorias ap√≥s um pequeno delay para garantir que o DOM esteja pronto
            setTimeout(initializeCategories, 100);
            
            // Configurar contador de caracteres
            document.getElementById('contact-brief').addEventListener('input', function() {
                const charCount = this.value.length;
                document.getElementById('char-count').textContent = `${charCount}/300 caracteres`;
                
                if (charCount > 300) {
                    this.value = this.value.substring(0, 300);
                }
            });
            
            // Preencher select de categorias no admin
            const categorySelect = document.getElementById('product-category');
            categorySelect.innerHTML = '<option value="" disabled selected>Selecione a Categoria</option>';
            
            const categories = [
                { value: 'restaurantes', text: 'Restaurante' },
                { value: 'bares', text: 'Bar' },
                { value: 'city-guides', text: 'City Guide' },
                { value: 'pontos-turisticos', text: 'Pontos Tur√≠sticos' },
                { value: 'passeios', text: 'Passeios' },
                { value: 'vida-noturna', text: 'Vida Noturna' },
                { value: 'compras', text: 'Compras' },
                { value: 'presentes', text: 'Presentes' },
                { value: 'hoteis', text: 'Hot√©is' },
                { value: 'cruzeiros', text: 'Cruzeiros' }
            ];
            
            categories.forEach(cat => {
                const option = document.createElement('option');
                option.value = cat.value;
                option.textContent = cat.text;
                categorySelect.appendChild(option);
            });
            
            // Fechar modais ao clicar fora
            window.onclick = function(event) {
                const modals = ['checkout-modal', 'download-modal', 'admin-login-modal', 'register-modal', 'login-modal'];
                modals.forEach(id => {
                    const modal = document.getElementById(id);
                    if (event.target === modal) {
                        modal.style.display = 'none';
                    }
                });
            };
            
            // Track initial page view
            pageViews++;
            localStorage.setItem('pageViews', pageViews);
            updateStats();
            
            // showNotification('Bem-vindo √† Curadoria Elite Travel!', 'success');
        });
    </script>
</body>
</html>
